(this["webpackJsonpdndal-oow-ar-log"]=this["webpackJsonpdndal-oow-ar-log"]||[]).push([[0],{127:function(e){e.exports=JSON.parse('{"records":[{"record":"game","isForEpic":false,"code":"ddal-eb-01","title":"The Night Land","type":"Adventure Record","tier":1,"ordinal":1,"notes":{"game":"Arriving at the Mournland salvage outpost of Salvation, your party undertook three separate quests into the \\"Gray.\\" In doing so, you discovered the existence of an Emerald Claw spy inside the settlement."},"advancement":{"label":"You gain one level for completing this adventure.","footnote":"(If you decline this level, you still record legacy events but cannot claim any rewards or legacy event benefits for this adventure.)"},"rewards":[{"instructions":"You gain the following rewards:","selections":["10 gp from Belaluur for rescuing Garundah (5 gp if she died).","10 gp from Whist\'s crew for saving their lives.","10 gp from Evanazer for scouting the tunnel."]},{"instructions":"Choose ONE bonus reward:","options":["A vial of antitoxin for recovering the Arrow of Truth.","A flask of alchemist\'s fire for recovering the Arrow of Truth.","20 silver arrows for recovering the Arrow of Truth.","25 gp for bringing Whist to judgement."]}],"legacy":{"events":[{"title":"Grateful Goblin","description":"You saved the goblin Garundah, and she is eternally grateful. At the end of this adventure, choose one of the following benefits:","radios":["Copy a 1st-level wizard spell from legal sources into your spellbook, ritual book, or Book of Shadows at no cost.","Gain fluency in Goblin.","Take an extra 10 gp in treasure."]},{"title":"Stay of Execution","description":"You freed the changeling thief Whist, allowing her to escape justice for her crimes.","checkboxes":["You can call on Whist once in a future adventure to disguise you with her disguise kit. If so, she scores a 22 on her disguise kit check. You must have at least 8 hours free to call on Whist\'s aid."]},{"title":"Powerful Enemy","description":"You have made an enemy of the powerful and wealthy salvage broker Irullan Karnach. You find that life has gotten harder and items more expensive. At the end of this adventure, roll a d20 and consult the chart below. You may add your Charisma modifier to the result:","table":["<b>Less than 5:</b> Remove 10 gp from your gold total, as Irullan tells her network of vendors to charge more for your necessities.","<b>6 - 13:</b> Remove 5 gp from your gold total, as Irullan tells her network of vendors to charge more for your necessities.","<b>19+:</b> You find vendors in town who don\'t like Irullan, and they sympathize with you and give you discounts. Add 10 gp to your gold total."]}]}},{"record":"game","isForEpic":false,"code":"ddal-eb-02","title":"Voice in the Machine","type":"Adventure Record","tier":1,"ordinal":2,"notes":{"game":"You entered the Mournland to track down the Gray Dogs, a missing salvage crew. When you found them, you uncovered a strange relic from a basement in Kalazart--the <i>Oracle of War</i>. This artifact provided tactical assistance that helped your group escape when you were surrounded by warforged outlaws."},"advancement":{"label":"You gain one level for completing this adventure.","footnote":"(If you decline this level, you still record legacy events but cannot claim any rewards or legacy event benefits for this adventure.)"},"rewards":[{"instructions":"You gain the following rewards:","selections":["50 gp from Belaluur for rescuing the Gray Dogs or returning to Salvation with their gear. You <b>must</b> return to Salvation to claim this reward."]},{"instructions":"Choose ONE bonus reward:","options":["A <i>potion of healing</i> from the corpse in Carpet Realm (area 2).","25 gp for ransacking Dragon\'s Hoard (area 4).","A <i>rope of climbing</i> for defeating the raiders in Musk (area 9).","A suit of <i>mithral chain mail</i> for defeating the iron juggernaut.","A <i>potion of clairvoyance</i> from Garundah if she is still alive."]}],"legacy":{"events":[{"title":"A Friend Indeed","description":"You listened to Kalli Alran (or the NPC friend you created during DDAL-EB-01 <i>The Night Land</i> and went back to save her trapped comrade. At the end of this adventure, choose one of the following benefits:","radios":["Your friend applies a temporary enhancement to your armor, granting you +1 AC for the duration of your next adventure.","Your firend gives you a <i>potion of healing<i>."]},{"title":"Hard Call","description":"You angered Kalli Alran (or the NPC friend you created during DDAL-EB-01 <i>The Night Land</i>) by not risking your lives to save her trapped comrade. At the end of this adventure, each surviving member of the Gray Dogs--apart from your friend--slips you 5 gp as thanks."},{"title":"White Rose","description":"You fround a preserved white rose in the same marketplace that you found the <i>Oracle of War<i>.","checkboxes":["Tick this if you identified the rose. At the end of the adventure, you can spend 5 gp to identify it as a rare Orioth rose from the distant jungle of Dajar Orioth in the elven nation of Aerenal."]}]}},{"record":"game","isForEpic":false,"code":"ddal-eb-03","title":"Where the Dead Wait","type":"Adventure Record","tier":1,"ordinal":3,"notes":{"game":"You were traveling back through the Mournland with the Gray Dogs, a rescued salvage crew, when you were ambushed by a large force of undead and forced to seek refuge in an abandoned cottage. During the siege, the strage artifact known as the <i>Oracle of War</i> malfunctioned and revealed a verse from the Draconic Prophecy. Realizing the value of the device, the Gray Dogs tried to steal it from under your noses."},"advancement":{"label":"You gain one level for completing this adventure.","footnote":"(If you decline this level, you still record legacy events but cannot claim any rewards or legacy event benefits for this adventure.)"},"rewards":[{"instructions":"You gain the following rewards:","selections":["25 gp as a bonus from Salvation\'s brokers for returning home alive."]},{"instructions":"Choose ONE bonus reward:","options":["25 gp from the purse in the office (area 4).","A bag of ball bearings, two bags of caltrops, two hunting traps, two vials of acid, and a flask of alchemist\'s fire from the storage closet (area 5).","A hand crossbow and thirty silvered crossbow bolts from the hidden compartment in the outhouse (area 7).","50 gp from the purse in the cellar (area 8).","An <i>armblade</i> for defeating Jagged the warforged wight (see <i>Eberron: Rising from the Last War</i>)."]}],"legacy":{"events":[{"title":"Stolen Artifact","description":"A group of scavengers stole the <i>Oracle of War</i> from you. If you play DDAL-EB-04 <i>The Third Protocol</i>, you start that adventure without the Oracle. You recover the artifact for Tiers 2 - 4."},{"title":"Turned Traitor","description":"Your ally Kalli Alran (or the friend you created in DDAL-EB-01 <i>The Night Land</i>) betrayed you to steal the <i>Oracle of War</i>. If they escaped alive, they may show up again in future adventures.","checkboxes":["If you appeal to your ally by writing an in-character letter of 300 words or more, and hand it in to your DM for approval before playing DDAL-EB-04 <i>The Third Protocol</i>, your ally may have second thoughts . . ."]}]}},{"record":"game","isForEpic":false,"code":"ddal-eb-04","title":"The Third Protocol","type":"Adventure Record","tier":1,"ordinal":4,"notes":{"game":"Shortly after you returned to the salvage outpost of Salvation, a group of assassins arrived to claim the <i>Oracle of War</i> from your party. You defeated them but learned that powerful forces are hunting for the <i>Oracle</i>."},"advancement":{"label":"You gain one level for completing this adventure.","footnote":"(If you decline this level, you still record legacy events but cannot claim any rewards or legacy event benefits for this adventure.)"},"rewards":[{"instructions":"You gain the following rewards:","selections":["100 gp from Saal Dreadstroke\'s satchel.","The <i>Oracle Detector</i>. This device emits a low beep when pointed in the direction of the <i>Oracle of War</i>. It has an additional minor magical property: it amplifies its vearer\'s voice, making it sound up to ten times louder than normal. This item doesn\'t count toward a character\'s magic item limit."]},{"instructions":"Choose ONE bonus reward:","options":["Chain mail for looting the blacksmith (area 6).","50 gp for helping the guest in the Salvation Hotel (area 7).","Any three items from the following list for looting the blacksmith (area 6): longsword, shield, light hammer, mace, greatsword, warhammer, chain (50 feet), caltrops (box of 100), flask of alchemist\'s fire.","A <i>potion of healing</i> and an <i>oil of slipperiness</i> for visiting the apothecary (area 14).","A vial of acid and a vial of basic poison for visiting the apothecary (area 14).","A <i>circlet of blasting</i> for visiting Erix Thorn the provisioner (area 10)."]}],"legacy":{"events":[{"title":"Captured Assassin","description":"You captured Saal Dreadstroke or some of his cronies alive. Now you must decide what to do with them.","radios":["Turn them over to the Brelish authorities and gain 20 gp per captive.","Hold on to them in the hope that they could be useful. After each adventure that they remain in captivity, you must pay 3 gp per captive on supplies."]},{"title":"Still Alive","description":"Despite all the horrors you\'ve seen, your friend Kalli (or the replacement you made for this character during DDAL-EB-01 <i>The Night Land</i>) remains alive and on your side. What does she do next?","radios":["Kalli heads to Morgrave University in Sharn to investigate the <i>Oracle of War</i>.","Kalli remains in Salvation and tries to set herself up as a salvage broker."]}]}},{"record":"epic","isForEpic":true,"code":"ddal-ebep-01","title":"The Iron Titan","type":"Adventure Record","tier":1,"ordinal":5,"notes":{"game":"You helped the brokers of Salvation save the outpost from Big Moe, a warforged colossus awakened by the Order of the Emerald Claw."},"advancement":{"label":"You gain one level for completing this adventure.","footnote":"(<b>Important:</b> If you forgo advancement from an EPIC, you still gain all of the following rewards.)"},"rewards":[{"instructions":"You gain the following rewards:","selections":["200 gp from the brokers of Salvation for defending the outpost.","A <i>potion of healing</i> from the brokers for defending Salvation."]},{"instructions":"Choose ONE bonus reward:","options":["<i>Rope of climbing</i>","<i>+1 shield</i>","<i>Lantern of revealing</i>"]}],"legacy":{"events":[{"title":"Fallen Titan","description":"The forces of Salvation defeated the warforged colossus Big Moe. One of the salvage brokers, Irullan Karnach, fled town just before the attack. Chould she have been involved somehow?","checkboxes":["If you\'re interested in tailing Karnach, your group can invest 200 gp after this adventure to hire a House Medani inquisitive to track her down. Your contact, Ivelo d\'Medani, discovers a lead that she\'s headed to Sharn. If you visit Sharn in a future adventure, you can locate Ivelo for more information."]},{"title":"Death is a Door","description":"You died defending Salvation from its enemies. Mysterious forces brought you back to life, but you don\'t know who they were or how they wielded such powerful magic."},{"title":"Enmity of the Claw","description":"You captured a battle standard carried by an undead minion of the Emerald Claw. Your actions have been noted by the Order and they\'ve vowed to punish you in the future."}]}},{"record":"game","isForEpic":false,"code":"ddal-eb-05","title":"A Century of Ashes","type":"Adventure Record","tier":2,"ordinal":6,"notes":{"game":"You traveled to Sharn to seek information about the <i>Oracle of War</i> from the sages at Morgrave University. You helped the sage  Zell Mar overcome his nerves during dinner, and made contact with the sphinx Flamewind to learn more about the Draconic Prophecy. In doing so, you learned that you are not the only ones searching for answers about the device . . ."},"advancement":{"label":"You gain one level for completing this adventure.","footnote":"(If you decline this level, you still record legacy events but cannot claim any rewards or legacy event benefits for this adventure.)"},"rewards":[{"instructions":"You gain the following rewards:","selections":["150 gp for defeating Andhedra the rakshasa."]},{"instructions":"Choose ONE bonus reward:","options":["A <i>potion of poison</i> for defeating Andhedra the rakshasa.","A <i>dust of disappearance</i> for defeating Andhedra the rakshasa.","A pair of <i>sending stones</i> for helping Zell impress Jia."]}],"legacy":{"events":[{"title":"Stakeout","description":"The inquisitve you hired to locate Irullan Karnach after DDAL-EBEP-01 <i>The Iron Titan</i> has tailed her to an apartment in Sharn and is monitoring her movements. He\'ll keep you appraised of any developments."},{"title":"Love Cats","description":"With your assistance, Zell Mar impressed Jia during dinner. At the end of this adventure, you go carousing with Zell and Jia in the bars of Sharn. Roll a d6 and consult the chart below:","table":["<b>1 - 2:</b> You got into a fight and made an enemy who may cause trouble for you in the future.","<b>3:</b> You found love! You are now dating someone.","<b>4:</b> You gambled and earned 50 gp.","<b>5 - 6:</b> You saved a couple from muggers. Start the next adventure with one extra hero point."]},{"title":"Maker\'s Mark","description":"Zell Mar identified the missing dwarf Sulring Mroranon as the creator of the <i>Oracle of War</i>.","checkboxes":["At the end of this adventure, your group can choose to spend 150 gp to trace Sulring\'s family and learn of his whereabouts on the Day of Mourning. This information becomes important in DDAL-EB-08 <i>Parliament of Gears</i>."]},{"title":"Crystal Skull","description":"You learned from the surviving members of Graystrife that Irullan Karnach stole a crystal kull from them that has the power to bring the dead back to life."},{"title":"Flamewind\'s Favored","description":"You impressed the sphinx Flamewind with your performance during a duel."}]}},{"record":"game","isForEpic":false,"code":"ddal-eb-06","title":"The Last Word","type":"Adventure Record","tier":2,"ordinal":7,"notes":{"game":"The sphinx  Flamewind deciphered the prophecy spoken by the <i>Oracle of War</i> and sent you to Wroat to foil a Thranish spy\'s strike against the King\'s Dark Lanterns. You infiltrated a royal armistice ball to idenify the spy and uncover their mission."},"advancement":{"label":"You gain one level for completing this adventure.","footnote":"(If you decline this level, you still record legacy events but cannot claim any rewards or legacy event benefits for this adventure.)"},"rewards":[{"instructions":"You gain the following rewards:","selections":["250 gp from Flamewind for identifying the spy (regardless of the success or failure of the spy\'s mission)."]},{"instructions":"Choose ONE bonus reward:","options":["100 gp and a <i>potion of healing</i> for defeating Decius and Daykar.","A <i>+1 weapon</i> from Flamewind for identifying the spy (regardless of the success or failure of the spy\'s mission).","A <i>ring of evasion</i> from Orsino for helping him.","A <i>wand of fear</i> for defeating Idiga Mol Doras."]}],"legacy":{"events":[{"title":"Dark Lanterns Flicker","description":"Mercutia ir\'Gontarli was assassinated during the ball. The city of Wroat is put on high alert as rumors swirl about who could be responsible. This event has repercussions later in the campaign."},{"title":"Silver Torch Extinguished","description":"Olivi\xe9r ir\'Volett was exposed during the ball as a spy and assassin and paid the ultimate price. As the authorities trace his steps, word spreads that the nation of Thrane could be responsible for the killing. This event has repercussions later in the campaign."},{"title":"Runaway Lovers","description":"You help Orsino and Cesaria escape to build new lives for themselves. They are forever grateful for your assistance.","checkboxes":["Once only, during any adventure in the <i>Oracle of War</i> campaign, you can call on Orsino for assistance. You must have at least 8 hours free to contact him. Orsino\'s spy network can answer three questions for you, as per the <i>commune</i> spell. When you use this legacy event, all players in your group must remove it from their Adventure Records."]}]}},{"record":"game","isForEpic":false,"code":"ddal-eb-07","title":"Song of the Sky","type":"Adventure Record","tier":2,"ordinal":8,"notes":{"game":"You visited Sharn\'s could district, Skyway, to locate Sky Blue, a thief mentioned in the verse of the Draconic Prophecy spoken by the <i>Oracle of War</i>. You weren\'t the only ones hunting for her--salvage broker Irullan Karnach had hired a criminal gang to kidnap her. You rescued Sky Blue from the gang and face off against Karnach."},"advancement":{"label":"You gain one level for completing this adventure.","footnote":"(If you decline this level, you still record legacy events but cannot claim any rewards or legacy event benefits for this adventure.)"},"rewards":[{"instructions":"You gain ONE of the following rewards:","options":["200 gp from Flamewind for bringing Sky Blue to Lareth Hall.","100 gp from Sky Blue for helping her escape the city."]},{"instructions":"Choose ONE bonus reward:","options":["A <i>feather token</i> for winning the steeplechase.","A suit of plate armor for defeating Bugrilda.","5 flasks of alchemist\'s fire for defeating Snarla and Snagrat.","50 gp for stealing one of Sky Blue\'s stashes.","A <i>soarsled</i> (see Handout 4)","A <i>necklace of adaptation</i> for defeating Irullan Karnach."]}],"legacy":{"events":[{"title":"Emerald Claw Captive","description":"You captured Emerald Claw agent Irullan Karnach alive. At the end of this adventure, you must decide what to do with her.","radios":["Hand her over to the Brelish authorities and claim a reward of 100 gp.","Keep her as a captive. While she remains alive, you must pay 10 gp at the end of each adventure to cover the expenses of her incarceration. If you have access to your own prison cell, you can keep her imprisoned for free.","Execute her."]},{"title":"Wing and a Prayer","description":"You left the city with Sky Blue to go in search of her father, who supposedly died during the Last War. Flamewind is unhappy that you defied her and sends spies to locate you.","checkboxes":["At the end of each adventure in this campaign (including this one), your party must succeed on a group DC 10 Wisdom (Insight) check to stay ahead of the sphinx\'s agents. If your group fails, tick this box and stop making checks. You are now being watched!"]},{"title":"Mark of the Sphinx","description":"You took Sky Blue to the sphinx Flamewind, who gave her a protective amulet to wear. Flamewind has asked you to look after the girl, and promised she\'ll be in touch."},{"title":"The Show Must Go On","description":"The bard Stormflower helped you save Sky Blue and is now committed to forging your legend in song.","checkboxes":["If you write Stormflower a song of at least three verses and hand it to your DM before playing DDAL-EB-08 <i>Parliament of Gears</i>, Stormflower makes you an honorary member of the Circle of Song: a secret alliance of bards and entertainers."]},{"title":"Flamewind\'s Favored","description":"You impressed the sphinx Flamewind with your performance during a steeplechase."}]}},{"record":"game","isForEpic":false,"code":"ddal-eb-08","title":"Parliament of Gears","type":"Adventure Record","tier":2,"ordinal":9,"notes":{"game":"One the orders of Captain Alain ir\'Ranek of the Brelish flying fortress Argonth, you mounted a rescue mission into the Mournland to retrieve captives taken by warforged raiding parties. What you discovered whas a highly organized military force carrying out the Lord of Blades\' orders. Whoever this mysterious leader is, he\'s given orders to harvest resources and personnel to assist a dwarven artificer under his \\"care.\\""},"advancement":{"label":"You gain one level for completing this adventure.","footnote":"(If you decline this level, you still record legacy events but cannot claim any rewards or legacy event benefits for this adventure.)"},"rewards":[{"instructions":"You gain the following rewards:","selections":["250 gp from Captain Alain ir\'Ranek for attempting to rescue the captives (regardless of success or failure).","A Lamannian flint shard."]},{"instructions":"Choose ONE bonus reward:","options":["A <i>+2 halberd</i> for searching the captain\'s room (area U3).","An <i>orb of shielding (Lamannian flint)</i> for searching the workship (area M3).","An <i>elemental gem (blue sapphire)</i> if Wooaaii survives.","A <i>potion of healing</i> and 100 gp for searching the stores (area M6).","A <i>potion of healing</i>, a <i>potion of comprehension</i>, a <i>potion of resistance (acid)</i>, or a <i>potion of resistance (lightning)</i> from Kalli Alran."]}],"legacy":{"events":[{"title":"Beard Braid","description":"Tellarak Natharon, nephew of the <i>Oracle of War</i>\'s creator Sulrin Mroranon, gave you a beard braid to identify yourselves to his uncle."},{"title":"Bested Captain Reeve","description":"You fought Captain Reeve of the 1st Mobile Division and lived to tell the tale. Once per adventure in the <i>Oracle of War</i> campaign, you can use this legacy even to gain advantage on an Intimidation or Persuasion check made to interact with a warforged."},{"title":"Eternal Gratitude","description":"You rescued one or more captives from the Blades\' <i>Conclave</i>. They won\'t forget your bravery and go out of their way to repay you. If you rescued any of the captives liste below, you gain their benefits:","checkboxes":["<b>Breyten Bokk d\'Orien</b> grants you a single spell component of up to 500 gp in value.","<b>Bunty Griswold</b> leaves your group a legacy in her will. At the start of each Core Storyline adventure in the <i>Oracle of War</i> campaign, roll a d20. On a 1, Bunty dies and each character with this legacy event gains 250 gp. All playes in your group must remove this legacy event from their Adventure Records.","<b>Dabren Ty</b> can silver one of your weapons or up to 20 pieces of ammunition.","<b>Jurian Saal</b> gifts you a <i>potion of healing</i>.","<b>Kronce</b> offers to help you out on a mission. You may call on the <b>veteran</b> to accompany you on any adventure in the <i>Oracle of War</i> campaign. When you use this legacy event, all players in your group must remove it from their Adventure Records.","<b>Larten</b> gives you a map of Cyre which grants you advantage to all Wisdom (Survival) checks made to navigate the Mournland."]}]}},{"record":"game","isForEpic":false,"code":"ddal-eb-09","title":"Lord Bucket","type":"Adventure Record","tier":2,"ordinal":10,"notes":{"game":"In Salvation, you were introduced to the Captain of Argonth, Alain ir\'Ranek and his compatriot, Big Bara, leader of Argonth\'s scouts. Unfortunately, the pleasant meeting was interrupted by General Karol Tyresh, also known as \\"Lord Bucket\\". After intercepting scouts acting on behalf of the Lord of Blades, you learned of a plot to assault the outpost. After preparing the outpost\'s defenses, you routed the Lord of Blades\' forces and defeated one of his generals, Bastian."},"advancement":{"label":"You gain one level for completing this adventure.","footnote":"(If you decline this level, you still record legacy events but cannot claim any rewards or legacy event benefits for this adventure.)"},"rewards":[{"instructions":"You gain the following reward:","selections":["200 gp for defeating Bastian and repelling the remaining warforged loyal to the Lord of Blades."]},{"instructions":"Choose ONE bonus reward:","options":["a <i>+2 shield</i> for defeating Bastian. The shield bears the faded and defaced heraldry of Karnath.","200 gp for returning at least one of the warforged spies back to Argonth alive.","200 gp for turning in a group of soldiers conspiring against General Tyresh.","200 gp for successfully completing the \\"Four Ts\\" without angering General Tyresh."]}],"legacy":{"events":[{"title":"Captured!","description":"You\'ve been captured by the Lord of Blades and taken into the Mournland! You begin the next adventure confined in one of the Lord of Blades\' enclaves."},{"title":"Sky Fall","description":"The young thief Sky Blue has been captured by the Lord of Blades! Will you seek her out and free her?"},{"title":"Not This Time, Death","description":"You managed to save General Tyresh from what appears to have been an attempt to assassinate him, perpetrated from someone loyal to Breland. While he\'s unlikely to publicly acknowledge your bravery, he repays you for it (in private, of course). General Tyresh provides you with 100 gp from his personal coffers in honor of saving his life."},{"title":"Your Face Is Known","description":"You have brought yourself to the Lord of Blades\' attention--as a killer of warforged and an obstacle to his plans to form a warforged nation. Who knowns how far across Khorvaire his reach extends . . .?"}]}},{"record":"game","code":"ddal-eb-10","title":"Judgement of Iron","type":"Adventure Record","tier":2,"ordinal":11,"notes":{"game":"You joined the Brelish Army\'s assault on Razorcrag, the Lord of Blades\' enclave in the Mournland, and rescued Sulring Mroranon, the creator of the <i>Oracle of War</i>. In an act of betrayal by Big Bara, the floating fortress Argonth fell into the Lord of Blades\' hands, and you were forced to flee."},"advancement":{"label":"You gain one level for completing this adventure.","footnote":"(If you decline this level, you still record legacy events but cannot claim any rewards or legacy event benefits for this adventure.)"},"rewards":[{"instructions":"You gain the following reward:","selections":["200 gp from Captain Alain ir\'Ranek for carrying out the mission."]},{"instructions":"Choose ONE bonus reward:","options":["Flechette\'s brassbound spellbook for defeating the mage. You gain the Arcane Kinetics legacy event (see Legacy Events).","A silver dagger with a gold knuckle-duster hilt (worth 250 gp) for defeating Zweihander.","A <i>brooch of shielding</i> for defeating Ranseur.","Big Bara\'s silver medals (worth 200 gp) for defeating the traitor.","A pair of <i>sending stones</i> for defeating the traitor.","A <i>belt of dwarvenkind</i> for rescuing Sulring."]}],"legacy":{"events":[{"title":"Arcane Kinetics","description":"You defeated the warforged mage Flechette and seized her spellbook. At the end of any core adventure in the <i>Oracle of War</i> campaign, you can gain the following benefit:","checkboxes":["Copy a wizard spell of 5th level or lower from legal sources into your spellbook, ritual book, or Book of Shadows at no cost. You must have the Book of Ancient Secrets invocation to add to your Book of Shadows."]},{"title":"Argonth Survivor","description":"You were there when Argonth fell to the Lord of Blades. Your time on the floating fortress means you\'re familiar with its layout, attack capabilities, and defenses."},{"title":"Your Face is Known","description":"You defeated the Lord of Blades\' lieutenant in sight of him and lived to tell the tale. Next time you might not be so lucky."}]}},{"record":"extra","code":"ddal00-13","title":"Cold Spell in Frostfell","type":"Adventure Record","tier":2,"ordinal":12,"notes":{"game":"This adventure appears in DDAL00-13 <i>Knuckleheads & Other Such Curiosities: A Travelers\' Guide to Icewind Dale</i>.<hr/>You traveled via magical portal to the arctic region of Eberron called the Frostfell. You assisted the Axyaz clan of goliaths in dealing with attacks and magical assault from an ancient temple atop one of the glacial mountains of the Iceworm Peaks. At the top of the mountain within the temple, you traveled to an interdimensional space connecting Eberron to the cold plane of Risia. There, you defeated a creature called Doomever and returned it to Risia, severing its connection to your world."},"advancement":{"label":"You gain one level for completing this adventure.","footnote":"(If you decline this level, you still record legacy events but cannot claim any rewards or legacy event benefits for this adventure.)"},"rewards":[{"instructions":"You gain the following rewards:","selections":["50 gp from Belaluur for escorting Garundah to investigate the happenings in the Mournland.","An <i>everbright lantern</i> as a gift from the Axyaz clan."]},{"instructions":"Choose ONE bonus reward:","options":["A <i>+2 longbow</i> after defeating the Risian spirits.","A <i>pearl of power</i> (Lamannian flint) for defeating Doomever.","A <i>potion of invulnerability</i> and 200 gp."]}],"legacy":{"events":[{"title":"Supporting Leerut","description":"You\'ve brought back to Salvation with you a young goliath warrior named Leerut of Clan Axyaz. While she is strong and capable, her inexperience with the world outside of the Frostfell leaves her vulnerable. You must decide how you are going to help her. Each character must choose for themselves:","radios":["<b>No Help.</b> You have brought her back from the Frostfell, but you leave her to her own devices.","<b>Provide Gold.</b> You give her 25 gp at the end of this adventure, and that helps her get a place to live and the opportunity to maker her own way in Salvation.","<b>Extended Help.</b> At the end of the next 5 adventures, you give Leerut 10 gp, which gives her the best possible chance of making her way successfully into the tough world of Salvation and the Gray."]}]}},{"record":"epic","code":"ddal-ebep-02","title":"Rolling Thunder","type":"Adventure Record","tier":2,"ordinal":13,"notes":{"game":"Working alongside the thief Sky Blue and her awakened seagull companion Earl, you raided the royal lightning rail train <i>Excelsior</i> to steal a top-secret government intelligence dossier on the <i>Oracle of War</i>. If you were successful, your comrades double-crossed you at the last moment and stole the train\'s entire vault carriage for themselves, yet provided you with the dossier after the event."},"advancement":{"label":"You gain one level for completing this adventure.","footnote":"(<b>Important:</b> If you forgo advancement from an EPIC, you still gain all the following rewards.)"},"rewards":[{"instructions":"You gain the following rewards:","selections":["500 gp for carrying out the mission, paid from the treasure Sky Blue and Earl stole from you. You do not gain this reward if you failed the heist."]},{"instructions":"Choose ONE bonus reward:","options":["A <i>hat of disguise</i>","A <i>stone of good luck (luckstone)</i>","<i>Boots of speed</i>"]}],"legacy":{"events":[{"title":"Death is a Door","description":"You died while trying to rob the royal lightning rail train <i>Excelsior</i>. Mysterious forces brought you back to life, but you don\'t know who or what they are."},{"title":"Mournland Dossier","description":"You stole a dossier of intelligence on the Mournland, which Sky is convinced can help her find her missing father."},{"title":"<i>Oracle </i>Dossier","description":"You stole a file of top secret intelligence on the <i>Oracle of War</i>. The information held within is encoded and can\'t be decrypted until you play EB-11: <i>My Undying Heart</i>. While you have this legacy event marked, Sky Blue and Earl cannot appear in EB-08, EB-09, or EB-10."},{"title":"Regicide","description":"Lord Kor ir\'Wynarn, the \\"King in Green\\", brother to King Boranel of Breland, is dead. This event is sure to foment trouble later in the campaign!"},{"title":"Swords of Liberty","description":"You identified the Swords of Liberty as being responsible for the attack on Lord Kor. You may be able to use this information to your advantage in the future."}]}},{"record":"game","code":"ddal-eb-11","title":"My Undying Heart","type":"Adventure Record","tier":3,"ordinal":14,"notes":{"game":"You presented the <i>Oracle of War</i> to the Institute of the Twelve, where it revealed a troubling new verse from the Draconic Prophecy. To learn more, the Twelve sent you to infiltrate an Order of the emerald Claw enclave and capture its leader, the vampire Widmund. Inside the enclave, you discovered evidence that the Emerald Claw were tracking the movements of the Cairdal Knot, a pair of Undying paladins. The paladins plan to unleash a network of sleeper agents known as Stonefire in an effor to steal the <i>Oracle of War</i>. . . ."},"advancement":{"label":"You gain one level for completing this adventure.","footnote":"(If you decline this level, you still record legacy events but cannot claim any rewards or legacy event benefits for this adventure.)"},"rewards":[{"instructions":"You gain the following reward:","selections":["<i>+1 armor</i> or <i>+1 barding</i> from the Twelve for completing the mission."]},{"instructions":"Choose ONE bonus reward:","options":["The <i>crystal skull</i> for defeating Widmund.","400 gp and a <i>potion of resistance (fire)</i> for defeating Widmund.","A <i>relic of whispered alarm</i> from the Skull Chamber.","A <i>scroll of protection (undead)</i> for bringing Saal Dreadstroke or his accomplices before the Twelve."]}],"legacy":{"events":[{"title":"Crystal Skull","description":"Irullan Karnach confessed that she delivered a crystal skull with the power to bring the dead back to life to the Order of the Emerald Claw."},{"title":"Rescued Agent","description":"You freed Leelle d\'Jorasco from captivity in the Emerald Claw enclave. She promises to aid you again in the future."}]}},{"record":"game","code":"ddal-eb-12","title":"The Waiting Game","type":"Adventure Record","tier":3,"ordinal":15,"notes":{"game":"After the <i>Siberys Sailer</i> was sabotaged, you were escorted by Narcy of Xandrar to the Arcane Congress\'s flying fortresses at Arcanix. A dinner in you honor was interrupted by an Undying elf named Immeral Longarrow, who awakened numerous sleeper agends in order to seize the <i>Oracle of War</i>. You needed to regain controll of the flying fortresses\' command center before Immeral and his crew destroyed the Arcane Congress and Arcanix."},"advancement":{"label":"You gain one level for completing this adventure.","footnote":"(If you decline this level, you still record legacy events but cannot claim any rewards or legacy event benefits for this adventure.)"},"rewards":[{"instructions":"You gain the following rewards:","selections":["250 gp from the Twelve for undertaking the mission.","500 gp from the mages of Arcanix for aiding in its defense (only if no towers were destroyed during the final battle)."]},{"instructions":"Choose ONE bonus reward:","options":["A <i>ring of regeneration</i> decorated in the shape of two intertwined roses for defeating Immeral.","Four <i>potions of superior healing</i> for defeating Immeral.","500 gp worth of diamonds for defeating the fluxchargers."]}],"legacy":{"events":[{"title":"Heroic Failure","description":"You failed to stop Immeral\'s plan before at least one of the floating towers were crashed into Arcanix:<br />&nbsp;&nbsp;&nbsp;&nbsp;For each tower that fell (to a maximum of 3) you <b>MUST</b> refuse the next hero point earned during a future adventure. When you\'ve refused hero points equal to the number of fortresses that crashed, remove this legacy event from your character.","radios":["One tower","Two towers","Thee towers"]}]}}]}')},153:function(e,t,a){},168:function(e,t,a){e.exports=a(312)},289:function(e,t,a){},293:function(e,t,a){},303:function(e,t,a){},304:function(e,t,a){},305:function(e,t,a){},306:function(e,t,a){},310:function(e,t,a){},312:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),s=a(19),o=a.n(s);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var l=a(24),i=a(8),c=a(20),d=a(15),u=a(16),p=a(9),m=a(18),h=a(17),f=a(3),g=a.n(f),v=a(45),E=a.n(v),b=a(124),y=a.n(b),w=a(156),N=a.n(w),O=a(157),S=a.n(O),D=a(38),k=a.n(D),C=a(60),_=a.n(C),j=a(10),A=a.n(j),T=a(125),I=a.n(T),x=a(106),W=a(104),B=a(13),L=a(28),M=a(31),R=a(23),H=a(26),F=a(25),P=a(130),G=a(11),Y=a(27),K=a(107),U=a(158),z=a.n(U),J=a(159),V=a(46),q=a(37),Z=a(105),X=a(54),Q=a(166),$=a(91),ee=a(165),te=a(76),ae=a(6),ne=a.n(ae),re=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={show:e.props.show},e}return Object(u.a)(a,[{key:"componentWillReceiveProps",value:function(e){this.setState({show:e.show})}},{key:"render",value:function(){var e={width:"8rem"};return r.a.createElement(G.a,{backdrop:"static",size:"sm",centered:!0,show:this.props.show,onHide:null!==this.props.onHide?this.props.onHide:this.props.onCancel},r.a.createElement(G.a.Header,{closeButton:!0},r.a.createElement("h3",null,this.props.title)),r.a.createElement(G.a.Body,null,this.props.body),r.a.createElement(G.a.Footer,{style:{justifyContent:"space-between"}},r.a.createElement(B.a,{variant:this.props.cancelButtonVariant,style:e,onClick:this.props.onCancel},this.props.cancelButton),r.a.createElement(B.a,{variant:this.props.confirmButtonVariant,style:e,onClick:this.props.onConfirm},this.props.confirmButton)))}}]),a}(n.Component);re.popTypes={show:ne.a.bool.isRequired,onConfirm:ne.a.func.isRequired,onCancel:ne.a.func.isRequired,onHide:ne.a.func,title:ne.a.string,body:ne.a.node,confirmButton:ne.a.string,cancelButton:ne.a.string,confirmButtonVariant:ne.a.string,cancelButtonVariant:ne.a.string},re.defaultProps={onHide:null,title:"Confirm action?",body:r.a.createElement("p",{style:{fontWeight:"bold"}},"This action is permanent, are you sure you want to continue?"),confirmButton:"Confirm",cancelButton:"Cancel",confirmButtonVariant:"outline-danger",cancelButtonVariant:"secondary"};var se=re,oe=a(44),le=a(52),ie=a(32),ce=a.n(ie),de=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).state={active:n.props.active},n.editButton=r.a.createRef(),n}return Object(u.a)(a,[{key:"componentWillReceiveProps",value:function(e){this.setState({active:e.active,hide:e.hide})}},{key:"render",value:function(){var e=this,t=this.props,a=t.onClick,n=t.className,s=t.active,o=t.save,l=t.cancel,i=t.left,c=t.move,d=t.hide;return r.a.createElement("button",{className:g()(ce.a.editButtonWrapper,n,this.state.active&&ce.a.active,i?ce.a.left:ce.a.right,o&&ce.a.save,l&&ce.a.cancel,c&&ce.a.move,d&&ce.a.hide),ref:this.editButton,onClick:function(e){a()},onMouseEnter:function(t){e.editButton.current.focus()},onMouseLeave:function(t){e.editButton.current.blur()}},!c&&r.a.createElement(H.a,{className:ce.a.icon,in:!l&&!s},r.a.createElement(le.b,null)),!c&&r.a.createElement(H.a,{className:ce.a.icon,in:l||!o&&this.state.active},r.a.createElement(le.c,null)),!c&&r.a.createElement(H.a,{className:ce.a.icon,in:o&&this.state.active},r.a.createElement(oe.b,null)),c&&r.a.createElement("div",{className:ce.a.icon},r.a.createElement($.a,null)))}}]),a}(n.Component);de.defaultProps={className:"",active:!1,hide:!1};var ue=de,pe=a(126),me=a.n(pe),he=a(161),fe=a(92),ge=a.n(fe),ve=a(12),Ee=a(35),be=a(4),ye=a(29),we=a(162),Ne=a(63),Oe=(a(289),function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).isInvalid=function(e){return!e||0===e},e.state={pp:e.isInvalid(e.props.wealthObj.pp)||e.props.isEmpty?0:e.props.wealthObj.pp,gp:e.isInvalid(e.props.wealthObj.gp)||e.props.isEmpty?0:e.props.wealthObj.gp,ep:e.isInvalid(e.props.wealthObj.ep)||e.props.isEmpty?0:e.props.wealthObj.ep,sp:e.isInvalid(e.props.wealthObj.sp)||e.props.isEmpty?0:e.props.wealthObj.sp,cp:e.isInvalid(e.props.wealthObj.cp)||e.props.isEmpty?0:e.props.wealthObj.cp},e}return Object(u.a)(a,[{key:"componentWillReceiveProps",value:function(e){this.setState({pp:this.isInvalid(e.wealthObj.pp)||e.isEmpty?0:e.wealthObj.pp,gp:this.isInvalid(e.wealthObj.gp)||e.isEmpty?0:e.wealthObj.gp,ep:this.isInvalid(e.wealthObj.ep)||e.isEmpty?0:e.wealthObj.ep,sp:this.isInvalid(e.wealthObj.sp)||e.isEmpty?0:e.wealthObj.sp,cp:this.isInvalid(e.wealthObj.cp)||e.isEmpty?0:e.wealthObj.cp})}},{key:"render",value:function(){var e=this.props,t=e.gain,a=e.loss,n=e.colorless;if(e.error)return r.a.createElement("span",{className:"wealthMoney error"},"\u2014");var s=g()("wealthMoney",t&&"gain",a&&"loss",n&&"colorless");return 0===this.state.pp&&0===this.state.gp&&0===this.state.ep&&0===this.state.sp&&0===this.state.cp?r.a.createElement("span",{className:s},this.state.gp,"gp"):r.a.createElement("span",{className:s},this.state.pp>0&&r.a.createElement(r.a.Fragment,null,this.state.pp,"pp",r.a.createElement("span",{className:"comma"},", ")),this.state.gp>0&&r.a.createElement(r.a.Fragment,null,this.state.gp,"gp",r.a.createElement("span",{className:"comma"},", ")),this.state.ep>0&&r.a.createElement(r.a.Fragment,null,this.state.ep,"ep",r.a.createElement("span",{className:"comma"},", ")),this.state.sp>0&&r.a.createElement(r.a.Fragment,null,this.state.sp,"sp",r.a.createElement("span",{className:"comma"},", ")),this.state.cp>0&&r.a.createElement(r.a.Fragment,null,this.state.cp,"cp",r.a.createElement("span",{className:"comma"},", ")))}}]),a}(r.a.Component));Oe.defaultProps={isEmpty:!1,wealthObj:{},gain:!1,loss:!1,colorless:!1,error:!1};var Se=Oe,De=a(62),ke=a.n(De),Ce=["e","+","-","."],_e={cp:0,sp:0,ep:0,gp:0,pp:0},je={starting:_e,spent:_e,earned:_e,ending:_e},Ae=["cp","sp","ep","gp","pp"],Te=[50,100,200,400],Ie=["Artificer","Barbarian","Bard","Cleric","Druid","Fighter","Monk","Paladin","Ranger","Rogue","Sorcerer","Warlock","Wizard"],xe=["Blood Hunter","Mystic"],We={record:"start",code:"start_campaign",title:"Starting Wealth and Notes",type:"Starting Wealth and Notes",date:"",wealth:Object(i.a)({},je)},Be=Object(l.a)({},We.code,{notes:{player:"Hail and well met!\n\nBegin your Oracle of War campaign by entering your starting wealth and any important notes into this log."}}),Le=function(e){return(new DOMParser).parseFromString(e,"text/html").body.textContent||""},Me=function(e){return e.replace(" - ","\u2013").replace("--","\u2014")},Re=function(e){return e[Object.keys(e)[0]]},He=function(e){return Object.keys(e)[0]},Fe=function(e){var t=e;return ke()(e,(function(e,a){"string"===typeof e&&(t[a]=e.trim())})),t},Pe=function(e){return e<1?0:e<5?1:e<11?2:e<17?3:4},Ge=function(e){return 1e3*(e.pp?e.pp:0)+100*(e.gp?e.gp:0)+50*(e.ep?e.ep:0)+10*(e.sp?e.sp:0)+(e.cp?e.cp:0)},Ye=function(e,t){var a=e,n={cp:0,sp:0,ep:0,gp:0,pp:0};return n.cp=a%10,a-=n.cp,a/=10,t?(n.sp=a%5,a-=n.sp,a/=5,n.ep=a%2,a-=n.ep,a/=2):(n.sp=a%10,a-=n.sp,a/=10,n.ep=0),n.gp=a%10,a-=n.gp,a/=10,n.pp=a,n};a(293);var Ke=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).state={playerObj:n.props.playerObj,tempObj:Object(i.a)({},n.props.playerObj),totalLevels:n.props.totalLevels,isEditing:!1,topClass:"",mountAnimSpeed:{},showHelpModal:!1,autoLeveling:n.props.optionsObj.autoLeveling,tierSetting:n.props.optionsObj.tierSetting,autoWealth:n.props.optionsObj.autoWealth,tempAutoLeveling:n.props.optionsObj.autoLeveling,tempTierSetting:n.props.optionsObj.tierSetting,tempAutoWealth:n.props.optionsObj.autoWealth,latestWealth:n.props.latestWealth,currentTotalLevels:n.props.currentTotalLevels},n.getPlayerDciStr=function(){var e="";return n.state.playerObj.player?(e=n.state.playerObj.player,n.state.playerObj.dci&&(e=e+" ("+n.state.playerObj.dci+")")):n.state.playerObj.dci&&(e=n.state.playerObj.dci),e},n.editInfo=function(e){n.state.isEditing&&!e?n.saveAutoLevel().then((function(e){n.setState({isEditing:!1,playerObj:Fe(Object(i.a)({},n.state.tempObj)),autoLeveling:n.state.tempAutoLeveling,tierSetting:n.state.tempTierSetting,autoWealth:n.state.tempAutoWealth},(function(){n.props.totalLevelHandler(n.getTotalLevel(n.state.totalLevels)),n.props.saveHandler(Fe(Object(i.a)({},n.state.tempObj)),{autoLeveling:n.state.tempAutoLeveling,tierSetting:n.state.tempTierSetting,autoWealth:n.state.tempAutoWealth})}))})):n.setState({isEditing:!n.state.isEditing,tempObj:Object(i.a)({},n.state.playerObj),tempAutoLeveling:n.props.optionsObj.autoLeveling,tempTierSetting:n.props.optionsObj.tierSetting,tempAutoWealth:n.props.optionsObj.autoWealth})},n.updateTempInfo=function(e,t){var a=n.state.tempObj;a[e]=t,n.setState({tempObj:a})},n.setTempWealth=function(e,t){var a=Object(i.a)(Object(i.a)({},n.state.tempObj.wealth),{},Object(l.a)({},t,""===e?0:Math.abs(parseInt(e))));n.updateTempInfo("wealth",a)},n.calcWealth=function(){if(!n.state.tempAutoWealth){var e=Ye(Ge(n.state.tempObj.wealth),!0);ge()(e,n.state.tempObj.wealth)?n.props.addToast("No change to coinage",{appearance:"info"}):n.props.addToast("Coinaged condensed",{appearance:"success"}),n.updateTempInfo("wealth",e)}},n.getInfoTier=function(){return n.state.tempTierSetting>0?n.state.tempTierSetting:Pe(n.state.currentTotalLevels)},n.getTotalLevel=function(e){if(0===Object.keys(n.state.playerObj.classes).length)return n.state.totalLevels+1;var t=""===n.state.tempAutoLeveling?0:n.getAutoLevel();return A()(n.state.playerObj.classes,(function(e,a){n.state.tempAutoLeveling!==a&&(t+=e)})),t},n.addNewClass=function(){if(n.setState({mountAnimSpeed:{animationDuration:"inerit"}}),Object.keys(n.state.tempObj.classes).length>14)n.props.addToast("Leeloo Dallas multiclass",{appearance:"error"});else{var e=Object(i.a)({},n.state.tempObj.classes),t="",a=Object.keys(e).length+1;do{t="Multiclass "+a,a++}while(Object.keys(e).includes(t));e[t]=1,n.updateTempInfo("classes",e)}},n.setClassLevel=function(e,t,a){var r={};A()(n.state.tempObj.classes,(function(n,s){s===e?r[t]=a:r[s]=n})),n.updateTempInfo("classes",r),e===n.state.tempAutoLeveling&&n.setState({tempAutoLeveling:t})},n.removeClass=function(e){var t=Object(i.a)({},n.state.tempObj.classes);delete t[e],n.updateTempInfo("classes",t)},n.setTopClass=function(e){n.setState({topClass:e})},n.getAutoLevel=function(){var e=0;return A()(n.state.tempObj.classes,(function(t,a){a!==n.state.tempAutoLeveling&&(e+=t)})),e>n.state.totalLevels?0:n.state.totalLevels-e+1},n.saveAutoLevel=function(){var e=Object(he.a)(me.a.mark((function e(t){return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:A()(n.state.tempObj.classes,(function(e,t){t!==n.state.tempAutoLeveling||n.setClassLevel(t,t,n.getAutoLevel())}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.render_displayInfo=function(){var e=n.state.tempAutoWealth?n.state.latestWealth:n.state.tempObj.wealth;return r.a.createElement("span",{className:"playerBoxContent"},!!n.state.playerObj.character&&r.a.createElement("div",{className:"infoItem"},r.a.createElement("h1",null,"Character:"),r.a.createElement("p",null,n.state.playerObj.character)),-1!==n.state.playerObj.tier&&r.a.createElement("div",{className:"infoItem tierItem"},r.a.createElement("h1",null,"Tier:"),r.a.createElement("ul",{className:"tierList"},r.a.createElement("li",{className:n.getInfoTier()>0?"filled":""},"1"),r.a.createElement("li",{className:n.getInfoTier()>1?"filled":""},"2"),r.a.createElement("li",{className:n.getInfoTier()>2?"filled":""},"3"),r.a.createElement("li",{className:n.getInfoTier()>3?"filled":""},"4"))),r.a.createElement("div",{className:"infoItem"},r.a.createElement("h1",null,"Level:"),r.a.createElement("p",{className:"classList"},n.state.currentTotalLevels)),(!!n.state.playerObj.player||!!n.state.playerObj.dci)&&r.a.createElement("div",{className:"infoItem"},r.a.createElement("h1",null,"Player:"),r.a.createElement("p",null,n.getPlayerDciStr())),!!n.state.playerObj.base&&r.a.createElement("div",{className:"infoItem"},r.a.createElement("h1",null,"Base:"),r.a.createElement("p",null,n.state.playerObj.base)),!!e&&(Ge(e)>0||n.state.autoWealth)&&r.a.createElement("div",{className:"infoItem"},r.a.createElement("h1",null,"Wealth:"),r.a.createElement("p",null,r.a.createElement(Se,{wealthObj:e}))),Object.keys(n.state.playerObj.classes).length>0&&!(1===Object.keys(n.state.playerObj.classes).length&&"Player"===He(n.state.playerObj.classes))&&r.a.createElement("div",{className:"infoItem"},r.a.createElement("h1",null,"Class"+(1!==Object.keys(n.state.playerObj.classes).length?"es:":":")),r.a.createElement("p",{className:"classList"},A()(n.state.playerObj.classes,(function(e,t){var a=n.state.autoLeveling===t?n.getAutoLevel():e,s=Object.keys(n.state.playerObj.classes).length>1?" ("+a+")":"";return r.a.createElement("span",{className:"class",key:t},t+s,r.a.createElement("span",{className:"comma"},", "))})))))},n.render_editInfo=function(){var e=Object.keys(n.state.tempObj.classes).length;return r.a.createElement(M.a,{in:n.state.isEditing,onExited:function(e){n.setState({mountAnimSpeed:{animationDuration:"0s"}})},onEntered:function(e){n.setState({mountAnimSpeed:{animationDuration:"inerit"}})},mountOnEnter:!0,unmountOnExit:!0},r.a.createElement("div",{className:"editingContent"},r.a.createElement("ul",{className:"editingFlex"},r.a.createElement("li",{className:"group optionsLevelWrapper splitGroupWrapper"},r.a.createElement(be.a,{className:"playerInfoGroup leftGroup"},r.a.createElement(be.a.Prepend,null,r.a.createElement(be.a.Text,{id:"character-options"},"Options"))),r.a.createElement("div",{className:"playerInfoOptions middleGroup"},r.a.createElement(be.a,{className:"playerInfoGroup dropdownGroup"},r.a.createElement(Ee.a,{variant:"light",title:n.state.tempAutoLeveling?"Leveling "+n.state.tempAutoLeveling.toUpperCase().replace(/ /g,"\xa0"):"Manual Levels",alignRight:!0},r.a.createElement(ve.a.Item,{href:"#",eventKey:"f",active:""===n.state.tempAutoLeveling,onSelect:function(e){n.setState({tempAutoLeveling:""})}},"Manual",r.a.createElement("span",{className:"condense"},"ly\xa0Assign"),"\xa0Levels"),r.a.createElement(ve.a.Divider,null),0===Object.keys(n.state.tempObj.classes).length&&r.a.createElement(ve.a.Item,{href:"#",disabled:!0},"(create a class",r.a.createElement("span",{className:"condense"}," to auto-level"),")"),A()(n.state.tempObj.classes,(function(e,t){return r.a.createElement(ve.a.Item,{href:"#",key:t,eventKey:t,active:n.state.tempAutoLeveling===t,onSelect:function(e){n.setState({tempAutoLeveling:t})}},"Auto-level ",t.toUpperCase().replace(/ /g,"\xa0"))})))),r.a.createElement(be.a,{className:"playerInfoGroup dropdownGroup"},r.a.createElement(Ee.a,{variant:"light",title:n.state.tempTierSetting>0?"Tier "+n.state.tempTierSetting:"Auto Tier",alignRight:!0},r.a.createElement(ve.a.Item,{href:"#",eventKey:"0",active:0===n.state.tempTierSetting,onSelect:function(e){n.setState({tempTierSetting:0})}},"Auto"),r.a.createElement(ve.a.Divider,null),A()([1,2,3,4],(function(e){return r.a.createElement(ve.a.Item,{href:"#",key:e,eventKey:e,active:n.state.tempTierSetting===e,onSelect:function(t){n.setState({tempTierSetting:e})}},"Tier ",e)})))),r.a.createElement(be.a,{className:"playerInfoGroup dropdownGroup"},r.a.createElement(Ee.a,{variant:"light",title:n.state.tempAutoWealth?"Auto Wealth":"Manual Wealth",alignRight:!0},r.a.createElement(ve.a.Item,{href:"#",eventKey:"f",active:!0===n.state.tempAutoWealth,onSelect:function(e){n.setState({tempAutoWealth:!0})}},"Auto",r.a.createElement("span",{className:"condense"},"matically Enter")," Wealth"),r.a.createElement(ve.a.Item,{href:"#",eventKey:"t",active:!1===n.state.tempAutoWealth,onSelect:function(e){n.setState({tempAutoWealth:!1},(function(e){n.state.autoWealth&&n.updateTempInfo("wealth",n.state.latestWealth)}))}},"Manual",r.a.createElement("span",{className:"condense"},"ly Enter")," Wealth")))),r.a.createElement(be.a,{className:"addClassGroup rightGroup",onClick:function(e){n.setState({showHelpModal:!0})}},r.a.createElement(be.a.Append,{className:"toBeButton"},r.a.createElement(be.a.Text,{id:"add-class"},r.a.createElement("span",{className:"helpIcon"},r.a.createElement(Ne.b,null)))))),r.a.createElement("hr",null),r.a.createElement(be.a,{as:"li",className:"playerInfoGroup"},r.a.createElement(be.a.Prepend,null,r.a.createElement(be.a.Text,{id:"character-name"},"Character",r.a.createElement("span",{className:"condense"},"\xa0Name"))),r.a.createElement(F.a.Control,{className:"handwritten",id:"charaName",value:n.state.tempObj.character,onChange:function(e){n.updateTempInfo("character",e.target.value)}})),r.a.createElement("li",{className:"group playerInfoWrapper"},r.a.createElement(be.a,{className:"playerInfoGroup"},r.a.createElement(be.a.Prepend,null,r.a.createElement(be.a.Text,{id:"player-name"},"Player",r.a.createElement("span",{className:"condense"},"\xa0Name"))),r.a.createElement(F.a.Control,{className:"handwritten",id:"playerName",value:n.state.tempObj.player,onChange:function(e){n.updateTempInfo("player",e.target.value)}})),r.a.createElement(be.a,{className:"playerInfoGroup"},r.a.createElement(be.a.Prepend,null,r.a.createElement(be.a.Text,{id:"player-dci"},r.a.createElement("span",{className:"condense"},"Player\xa0"),"DCI\xa0#")),r.a.createElement(F.a.Control,{className:"handwritten",id:"playerDci",value:n.state.tempObj.dci,onChange:function(e){n.updateTempInfo("dci",e.target.value)}}))),r.a.createElement(be.a,{as:"li",className:"playerInfoGroup"},r.a.createElement(be.a.Prepend,null,r.a.createElement(be.a.Text,{id:"base-name"},r.a.createElement("span",{className:"condense"},"Assigned\xa0"),"Base")),r.a.createElement(F.a.Control,{className:"handwritten",id:"baseName",value:n.state.tempObj.base,onChange:function(e){n.updateTempInfo("base",e.target.value)}})),r.a.createElement("li",{className:"group wealthWrapper splitGroupWrapper"},r.a.createElement(be.a,{className:"wealthGroup leftGroup"},r.a.createElement(be.a.Prepend,null,r.a.createElement(be.a.Text,{id:"current-wealth"},r.a.createElement("span",{className:"condense"},"Current\xa0"),"Wealth"))),r.a.createElement("div",{className:"currencyInputsWrapper middleGroup"},A()(Object(c.a)(Ae).reverse(),(function(e,t){var a=n.state.tempAutoWealth?n.state.latestWealth:n.state.tempObj.wealth;return r.a.createElement(be.a,{key:e,className:"money "+e},r.a.createElement(F.a.Control,{className:"handwritten",id:e,type:"number",pattern:"[0-9]*",min:"0",placeholder:"0",disabled:n.state.tempAutoWealth,value:a[e].toString().replace(/^0+/,""),onChange:function(t){n.setTempWealth(t.target.value,e)},onKeyDown:function(e){Ce.includes(e.key)&&e.preventDefault()},autoComplete:"cp"===e?"new-password":"off"}),r.a.createElement(be.a.Append,null,r.a.createElement(be.a.Text,{className:"help",id:e},r.a.createElement(Y.a,{placement:"top",overlay:r.a.createElement(ye.a,null,["platinum (1000cp)","gold (100cp)","ethereum (50cp)","silver (10cp)","copper (1cp)"][t])},r.a.createElement("span",{className:"bookFont bold"},e)))))}))),r.a.createElement(be.a,{className:g()("calcButtonGroup rightGroup",n.state.tempAutoWealth&&"disabled"),onClick:n.calcWealth.bind(Object(p.a)(n))},r.a.createElement(Y.a,{placement:"top",overlay:r.a.createElement(ye.a,null,"Condense Coinage"),trigger:n.state.tempAutoWealth?[]:["hover","focus"]},r.a.createElement(be.a.Append,{className:"toBeButton"},r.a.createElement(be.a.Text,{id:"wealth-calc"},r.a.createElement("span",{className:"calcMoneyIcon"},r.a.createElement(Ne.a,null))))))),r.a.createElement("li",{className:"group classLevelWrapper splitGroupWrapper"},r.a.createElement(be.a,{className:"playerInfoGroup leftGroup"},r.a.createElement(be.a.Prepend,null,r.a.createElement(be.a.Text,{id:"character-name"},"Classes",r.a.createElement("span",{className:"condense"},"\xa0/\xa0Levels")))),r.a.createElement("div",{className:"dropdownsWrapper middleGroup"},0===Object.keys(n.state.tempObj.classes).length&&r.a.createElement("div",{className:"placeholderNote"},"(no classes added)"),A()(n.state.tempObj.classes,(function(t,a){var s=a===n.state.tempAutoLeveling?n.getAutoLevel():t;return r.a.createElement(be.a,{key:a,className:g()("playerInfoGroup classDropdownGroup","Player"!==a&&"animate__faster","Player"!==a&&"animate__animated animate__bounceIn",n.state.topClass===a&&"zFix",1===e&&"firstLast",n.state.tempAutoLeveling===a&&"autoLevelingClass"),onClick:n.setTopClass.bind(Object(p.a)(n),a),style:n.state.mountAnimSpeed},n.render_classLevelDropDown(a,s))})),r.a.createElement(be.a,{className:"fillerGroup filler1"}),r.a.createElement(be.a,{className:"fillerGroup filler2"})),r.a.createElement(be.a,{className:"addClassGroup rightGroup",onClick:n.addNewClass.bind(Object(p.a)(n))},r.a.createElement(be.a.Append,{className:"toBeButton"},r.a.createElement(be.a.Text,{id:"add-class"},r.a.createElement("span",{className:"plusIcon"},r.a.createElement(we.a,null)))))),r.a.createElement("hr",null),r.a.createElement("li",{className:"group actionsWrapper splitGroupWrapper"},r.a.createElement(be.a,{className:"playerInfoGroup leftGroup"},r.a.createElement(be.a.Prepend,null,r.a.createElement(be.a.Text,{id:"character-options"},"Actions"))),r.a.createElement("div",{className:"rightGroup"},r.a.createElement(B.a,{href:"#",variant:"secondary",ref:n.cancelButton,disabled:!n.state.isEditing,onClick:n.editInfo.bind(Object(p.a)(n),!0),onMouseEnter:function(e){n.cancelButton.current.focus()},onMouseUp:function(e){n.cancelButton.current.blur()}},"Cancel",r.a.createElement("span",{className:"buttonIcon"},r.a.createElement(q.a,null))),r.a.createElement(B.a,{href:"#",variant:"primary",ref:n.saveButton,disabled:!n.state.isEditing,onClick:n.editInfo.bind(Object(p.a)(n),!1),onMouseEnter:function(e){n.saveButton.current.focus()},onMouseUp:function(e){n.saveButton.current.blur()}},"Save",r.a.createElement("span",{className:"buttonIcon"},r.a.createElement(oe.b,null))))))))},n.render_classLevelDropDown=function(e,t){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ee.a,{as:be.a.Prepend,variant:"secondary",title:e,onSelect:function(e){n.setState({mountAnimSpeed:{animationDuration:"0s"}})}},A()(Ie,(function(a,s){return e===a?r.a.createElement(ve.a.Item,{key:s,href:"#",active:!0,onSelect:n.setClassLevel.bind(Object(p.a)(n),e,a,t)},a):Object.keys(n.state.tempObj.classes).includes(a)?void 0:r.a.createElement(ve.a.Item,{key:s,href:"#",onSelect:n.setClassLevel.bind(Object(p.a)(n),e,a,t)},a)})),r.a.createElement(ve.a.Divider,null),A()(xe.concat(["Others"]),(function(a,s){return e===a?r.a.createElement(ve.a.Item,{key:s,href:"#",active:!0,onSelect:n.setClassLevel.bind(Object(p.a)(n),e,a,t)},a):a===e||Object.keys(n.state.tempObj.classes).includes(a)?void 0:r.a.createElement(ve.a.Item,{key:s,href:"#",onSelect:n.setClassLevel.bind(Object(p.a)(n),e,a,t)},a)})),n.state.tempAutoLeveling!==e&&r.a.createElement(r.a.Fragment,null,r.a.createElement(ve.a.Divider,null),r.a.createElement(ve.a.Item,{className:"remove oswald",href:"#",onSelect:n.removeClass.bind(Object(p.a)(n),e)},r.a.createElement("span",null,"Remove"),r.a.createElement(q.d,null)))),r.a.createElement(Ee.a,{as:be.a.Append,variant:"outline-secondary",title:t,disabled:n.state.tempAutoLeveling===e,alignRight:!0,className:g()("levelDropdown",n.state.tempAutoLeveling===e&&"disabled")},A()(Array.from(Array(20),(function(e,t){return t+1})),(function(a){return r.a.createElement(ve.a.Item,{key:a,href:"#",active:t===a,onSelect:n.setClassLevel.bind(Object(p.a)(n),e,e,a)},a)}))))},n.render_helpModal=function(){return r.a.createElement(G.a,{className:"helpModal",size:"lg",scrollable:!0,show:n.state.showHelpModal,onHide:function(e){n.setState({showHelpModal:!1})}},r.a.createElement(G.a.Header,{closeButton:!0},r.a.createElement(G.a.Title,null,"Player Options Help")),r.a.createElement(G.a.Body,null,r.a.createElement("ul",{className:"helpList"},r.a.createElement("li",null,r.a.createElement("h1",null,"Manual and Auto Leveling"),r.a.createElement("ul",null,r.a.createElement("li",null,"Auto Leveling will use the total number of checked Advancements in game logs (minus any multiclassing levels) to the assigned class."),r.a.createElement("li",null,"If there are more levels set from multiclassing than total levels, then the selected class' level will be 0."))),r.a.createElement("li",null,r.a.createElement("h1",null,"Manual and Auto Tier"),r.a.createElement("ul",null,r.a.createElement("li",null,"Auto Tier will set the character's current tier based on class levels."),r.a.createElement("li",null,"This is based on the total levels set for classes and not to checked Advancements in game logs."),r.a.createElement("li",null,"This will work in conjunction with auto-leveling."))),r.a.createElement("li",null,r.a.createElement("h1",null,"Manual and Auto Wealth"),r.a.createElement("ul",null,r.a.createElement("li",null,"Auto Wealth will use the Ending Gold of the most recent log."))),r.a.createElement("li",null,r.a.createElement("h1",null,"Condensing Coinage ",r.a.createElement(Ne.a,null)),r.a.createElement("ul",null,r.a.createElement("li",null,"This will convert your wealth to use the least amount of coins possible."))))),r.a.createElement(G.a.Footer,null,r.a.createElement(B.a,{variant:"secondary",onClick:function(e){n.setState({showHelpModal:!1})}},"Close")))},n.cancelButton=r.a.createRef(),n.saveButton=r.a.createRef(),n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.props.totalLevelHandler(this.getTotalLevel(this.props.totalLevels))}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.setState({playerObj:e.playerObj,totalLevels:e.totalLevels,latestWealth:e.latestWealth,autoLeveling:e.optionsObj.autoLeveling,tierSetting:e.optionsObj.tierSetting,autoWealth:e.optionsObj.autoWealth},(function(){var a=t.getTotalLevel(e.totalLevels);e.currentTotalLevels===a&&e.currentTotalLevels===t.state.currentTotalLevels||(t.props.totalLevelHandler(a),t.setState({currentTotalLevels:a})),t.state.tempAutoWealth&&t.updateTempInfo("wealth",t.state.latestWealth)}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"editBox"},this.render_helpModal(),r.a.createElement("div",{className:g()("playerBox",this.state.isEditing&&"editing")},r.a.createElement(H.a,{in:this.state.isEditing},r.a.createElement(ue,{left:!0,cancel:!0,onClick:this.editInfo.bind(this,!0),active:!0,hide:!this.state.isEditing})),this.render_displayInfo(),r.a.createElement(ue,{save:!0,onClick:this.editInfo.bind(this,!1),active:this.state.isEditing})),this.render_editInfo())}}]),a}(n.Component);Ke.defaultProps={optionsObj:{autoLeveling:"",tierSetting:0,autoWealth:!1},saveHandler:function(e){}};var Ue,ze=(Ue=Ke,function(e){var t=Object(V.useToasts)();return r.a.createElement(Ue,Object.assign({},e,t))}),Je=a(99),Ve=a.n(Je),qe=a(77),Ze=a.n(qe),Xe=["pp","gp","ep","sp","cp"],Qe=["platinum (1000cp)","gold (100cp)","ethereum (50cp)","silver (10cp)","copper (1cp)"],$e=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={wealth:e.props.isStart?e.props.fullWealth.ending:e.props.fullWealth[e.props.type],disabled:e.props.disabled,error:e.props.error,useEp:!0},e.setWealth=function(t,a){var n=Object(i.a)({},e.state.wealth);n[a]=""===t?0:Math.abs(parseInt(t)),e.setState({wealth:n},e.props.updateHandler(n,e.props.isStart?"ending":e.props.type))},e}return Object(u.a)(a,[{key:"componentWillReceiveProps",value:function(e){this.setState({disabled:e.disabled,error:e.error,wealth:e.isStart?e.fullWealth.ending:e.fullWealth[e.type]})}},{key:"render",value:function(){var e=this;return this.state.wealth?r.a.createElement("div",{className:Ze.a.coinInputsWrapper},A()(Xe,(function(t,a){if("ep"===t&&!e.state.useEp)return r.a.createElement(r.a.Fragment,null);var n=e.state.wealth[t]?e.state.wealth[t].toString().replace(/^0+/,""):"";return r.a.createElement(be.a,{key:a,className:g()(Ze.a.money,e.state.error&&Ze.a.error)},r.a.createElement(F.a.Control,{className:"handwritten",id:t,type:e.state.error?"text":"number",pattern:"[0-9]*",min:"0",placeholder:"0",value:e.state.error?"\u2014":n,onChange:function(a){e.setWealth(a.target.value,t)},onKeyDown:function(e){Ce.includes(e.key)&&e.preventDefault()},disabled:e.state.disabled,autoComplete:"cp"===t?"new-password":"off"}),r.a.createElement(be.a.Append,{className:Ze.a.denomBox},r.a.createElement(be.a.Text,null,r.a.createElement(Y.a,{placement:"top",overlay:r.a.createElement(ye.a,null,Qe[a])},r.a.createElement("span",{className:"bookFont bold"},t)))))}))):r.a.createElement(r.a.Fragment,null)}}]),a}(n.Component);$e.defaultProps={updateHandler:function(){},disabled:!1,error:!1,isStart:!1};var et=$e,tt=a(163),at=a.n(tt),nt=(a(153),function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={isSelected:e.props.isSelected,isDisabled:e.props.isDisabled,isExpended:e.props.isExpended},e.toggleSelect=function(){e.state.isDisabled||e.setSelect(!e.state.isSelected)},e.setSelect=function(t){e.setState({isSelected:t},e.props.selectHandler(e.props.arrKey,t,e.props.title))},e}return Object(u.a)(a,[{key:"componentWillReceiveProps",value:function(e){this.setState({isSelected:e.isSelected,isDisabled:e.isDisabled,isExpended:e.isExpended}),e.isSelected!==this.state.isSelected&&this.props.selectHandler(this.props.arrKey,e.isSelected,this.props.title)}},{key:"render",value:function(){var e=this.props,t=e.label,a=e.type,n=e.isBold,s=e.indent;return"checkbox"===a?r.a.createElement("div",{className:g()("selectWrapper checkbox",this.state.isDisabled&&"disabled"),onClick:this.toggleSelect.bind(this)},r.a.createElement(be.a,{className:"checkArea"},r.a.createElement(be.a.Prepend,null,r.a.createElement(be.a.Checkbox,{checked:this.state.isSelected,disabled:this.state.isDisabled,onChange:this.toggleSelect.bind(this)})),r.a.createElement("p",{className:g()("label bookFont",n&&"bold")},s&&r.a.createElement(le.a,{className:"arrow"}),r.a.createElement("span",{dangerouslySetInnerHTML:{__html:Me(t)}})))):null}}]),a}(r.a.Component));nt.defaultProps={arrKey:-1,isSelected:!1,isDisabled:!1,isBold:!1,selectHandler:function(e){},isExpended:!1,title:"N-A"};var rt=nt,st=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={selection:e.props.selection,isDisabled:e.props.isDisabled,isExpended:e.props.isExpended},e.setSelection=function(t){e.state.isDisabled||e.setState({selection:t},e.props.optionHandler(t,e.props.title))},e}return Object(u.a)(a,[{key:"componentWillReceiveProps",value:function(e){this.setState({isDisabled:e.isDisabled,selection:e.selection,isExpended:e.isExpended})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:g()("selectWrapper radio",this.state.isDisabled&&"disabled")},this.props.canBlank&&r.a.createElement(H.a,{in:-1!==this.state.selection},r.a.createElement("button",{className:g()("button",-1===this.state.selection&&"hidden"),onClick:this.setSelection.bind(this,-1)})),r.a.createElement(be.a,{className:"radioArea"},A()(this.props.options,(function(t,a){return r.a.createElement("div",{key:a,className:"option",onClick:e.setSelection.bind(e,a)},r.a.createElement(be.a.Prepend,null,r.a.createElement(be.a.Radio,{checked:e.state.selection===a,disabled:e.state.isDisabled,onChange:e.setSelection.bind(e,a)})),r.a.createElement("p",{className:"label bookFont",dangerouslySetInnerHTML:{__html:Me(t)}}))}))))}}]),a}(r.a.Component);st.defaultProps={selection:-1,isDisabled:!1,canBlank:!1,optionHandler:function(e){},title:"N-A",isExpended:!1};var ot=st,lt=(a(303),function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={eventObj:e.props.eventObj,status:e.props.status,isDisabled:e.props.disable,isSelected:e.props.isSelected||e.props.status.active,selectionObj:Object(l.a)({},e.props.eventObj.title,{active:e.props.isSelected,selections:[],option:-1})},e.toggleSelect=function(){e.setSelect(!e.state.isSelected,!1)},e.setSelect=function(t,a){if(!(e.state.isDisabled||e.state.status.expended||a)){var n=e.state.eventObj.title,r=t?Object(i.a)({},e.state.selectionObj[n]):{selections:[],option:-1},s=Object(l.a)({},n,Object(i.a)(Object(i.a)({},r),{},{legacy:!0,active:t}));e.setState({isSelected:t,selectionObj:s},e.props.updateHandler(s))}},e.eventSelectHandler=function(t,a){if(e.state.isSelected){var n=e.state.eventObj.title,r=Object(c.a)(e.state.selectionObj[n].selections);a?r.includes(t)||r.push(t):Ve()(r,t);var s=Object(l.a)({},n,{legacy:!0,active:!0,selections:r});e.setState({selectionObj:s},e.props.updateHandler(s))}},e.eventOptionHandler=function(t){var a=e.state.eventObj.title,n=Object(l.a)({},a,{legacy:!0,active:!0,option:t});e.setState({selectionObj:n},e.props.updateHandler(n))},e}return Object(u.a)(a,[{key:"componentWillReceiveProps",value:function(e){this.setState({status:e.status,isDisabled:e.disable,isSelected:e.isSelected||e.status.active})}},{key:"render",value:function(){var e=this,t=this.state.isDisabled||!this.state.isSelected||this.state.status.expended;return r.a.createElement(R.a,{className:g()("eventWrapper","custom-control","custom-checkbox",this.state.status.expended&&"expended")},r.a.createElement("span",{onClick:this.toggleSelect.bind(this)},r.a.createElement(at.a,{className:"custom-control-input",checked:this.state.isSelected,disabled:this.state.isDisabled||this.state.status.expended,indeterminate:this.state.isSelected&&this.state.status.expended,onChange:this.toggleSelect.bind(this)})),r.a.createElement("span",{className:"contents"},r.a.createElement("div",{className:"descriptionWrapper",onClick:this.toggleSelect.bind(this)},r.a.createElement("h1",{className:"bookFont bold",dangerouslySetInnerHTML:{__html:this.state.eventObj.title+"."}}),r.a.createElement("p",{className:"bookFont",dangerouslySetInnerHTML:{__html:this.state.eventObj.description}})),"checkboxes"in this.state.eventObj&&r.a.createElement("ul",{className:"checkboxes",onClick:this.setSelect.bind(this,!0,this.state.isSelected)},A()(this.state.eventObj.checkboxes,(function(a,n){var s=void 0!==e.state.status.selections?e.state.status.selections:[];return r.a.createElement(rt,{key:n,arrKey:n,type:"checkbox",isSelected:s.includes(n),isDisabled:t,isExpended:e.state.status.expended,label:a,selectHandler:e.eventSelectHandler})}))),"radios"in this.state.eventObj&&r.a.createElement("div",{className:"radios",onClick:this.setSelect.bind(this,!0,this.state.isSelected)},r.a.createElement(ot,{options:this.state.eventObj.radios,isDisabled:t,isExpended:this.state.status.expended,selection:this.state.status.option,optionHandler:this.eventOptionHandler})),"table"in this.state.eventObj&&r.a.createElement("ul",{className:"table",onClick:this.setSelect.bind(this,!0,this.state.isSelected)},r.a.createElement(ot,{options:this.state.eventObj.table,selection:this.state.status.option,isDisabled:t,isExpended:this.state.status.expended,optionHandler:this.eventOptionHandler}))))}}]),a}(n.Component));lt.defaultProps={disable:!1,updateHandler:function(e){},status:{}};var it=lt,ct=(a(154),a(304),"game"),dt="extra",ut="epic",pt="salvage",mt="notes",ht="start";var ft=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).state={data:n.props.data,statusData:n.props.statuses,isCollapsed:n.props.collapse,isEditing:n.props.startWithEdit,showDeleteModal:!1,loaded:!0,wasDm:n.props.wasDm,wasEpic:n.props.wasEpic,autoCalc:n.props.autoCalc,negativeEndingGold:!1,isDeleting:!1,tier:n.props.data.tier,titleOverride:n.props.statuses[n.props.data.code]&&n.props.statuses[n.props.data.code].titleOverride?n.props.statuses[n.props.data.code].titleOverride:n.props.data.title,rewardGroup0:[],tempEvent:"",tempDate:"",tempNotes:n.props.statuses[n.props.data.code]&&n.props.statuses[n.props.data.code].notes&&n.props.statuses[n.props.data.code].notes.player?n.props.statuses[n.props.data.code].notes.player:"",tempDmName:"",tempDmNumber:"",tempTier:n.props.statuses[n.props.data.code]&&n.props.statuses[n.props.data.code].tier?n.props.statuses[n.props.data.code].tier:n.props.data.tier,tempIsDm:n.props.wasDm,tempIsEpic:n.props.wasEpic,tempAutoCalc:n.props.statuses[n.props.data.code]&&n.props.statuses[n.props.data.code].autoCalc?n.props.statuses[n.props.data.code].autoCalc:n.props.autoCalc,tempWealth:n.props.statuses[n.props.data.code]&&n.props.statuses[n.props.data.code].wealth?Object(i.a)({},n.props.statuses[n.props.data.code].wealth):Object(i.a)({},je),tempTitle:n.props.statuses[n.props.data.code]&&n.props.statuses[n.props.data.code].titleOverride?n.props.statuses[n.props.data.code].titleOverride:n.props.data.title},n.toggleCollapsed=function(){n.state.isEditing||n.setState({isCollapsed:!n.state.isCollapsed})},n.updateEventHandler=function(e,t){var a=n.state.data.code,r=Object(i.a)({},n.state.statusData);t||Re(e).active?r=Object(l.a)({},a,Object(i.a)(Object(i.a)({},n.state.statusData[a]),e)):delete r[a][He(e)],n.setState({statusData:r},(function(e){n.props.logUpdateHandler(r),n.setTempData(n.state.statusData[a])}))},n.advancementHandler=function(e,t){n.updateEventHandler({advancement:{legacy:!1,active:t}})},n.salvageHandler=function(e,t){n.updateEventHandler({missionComplete:{legacy:!1,complete:t}},!0)},n.selectRewardHandler=function(e,t,a){var r=n.state[a];t?r.push(e):Ve()(r,e),n.setState(Object(l.a)({},a,r),n.updateEventHandler(Object(l.a)({},a,{legacy:!1,active:!0,selections:r})))},n.optionRewardHandler=function(e,t){n.updateEventHandler(Object(l.a)({},t,{legacy:!1,active:!0,option:e}))},n.setIsEditing=function(e,t){e?n.setTempData(n.state.statusData[n.state.data.code]):t?n.saveTempData():n.setTempData(n.state.statusData[n.state.data.code]),n.state.tempAutoCalc&&n.calcEndingWealth(n.state.tempWealth,!0),n.setState({isEditing:e})},n.saveTempData=function(){var e={isForEpic:n.state.tempIsEpic,notes:Object(i.a)(Object(i.a)({},n.state.statusData.notes),{},{player:n.state.tempNotes?Le(n.state.tempNotes.trim()):""}),event:n.state.tempEvent.trim(),date:n.state.tempDate.trim(),dungeonMaster:{name:n.state.tempIsDm?"":n.state.tempDmName.trim(),dci:n.state.tempIsDm?"":n.state.tempDmNumber.trim(),isDm:n.state.tempIsDm},wealth:n.state.tempWealth,tier:n.state.tempTier,autoCalc:n.state.tempAutoCalc};[mt,ht,pt].includes(n.state.data.record)&&(e.titleOverride=""===n.state.tempTitle.trim()?n.state.data.code:n.state.tempTitle.trim()),n.setState({tempNotes:n.state.tempNotes?Le(n.state.tempNotes.trim()):"",tempDmName:n.state.tempIsDm?"":n.state.tempDmName.trim(),tempDmNumber:n.state.tempIsDm?"":n.state.tempDmNumber.trim(),tempEvent:n.state.tempEvent.trim(),tempDate:n.state.tempDate.trim(),tempTitle:""===n.state.tempTitle.trim()?n.state.data.code:n.state.tempTitle.trim()},n.updateEventHandler(e,!0))},n.getPropOrEmpty=function(e,t,a){return e?"boolean"===typeof e[t]?e[t]:e[t]?null===a?e[t]:e[t][a]?e[t][a]:"":"":""},n.setTempData=function(e){var t=n.getPropOrEmpty(e,"wealth",null);e&&n.setState({tempWealth:""===t?Object(i.a)({},je):t,tempTier:n.getPropOrEmpty(e,"tier",null),tempEvent:n.getPropOrEmpty(e,"event",null),tempDate:n.getPropOrEmpty(e,"date",null),tempTitle:n.getPropOrEmpty(e,"titleOverride",null),tempNotes:Le(n.getPropOrEmpty(e,"notes","player")),tempDmName:n.getPropOrEmpty(e,"dungeonMaster","name"),tempDmNumber:n.getPropOrEmpty(e,"dungeonMaster","dci")})},n.setEvent=function(e,t){var a=n.state.statusData[n.state.data.code]&&n.state.statusData[n.state.data.code][e]?Object(i.a)({},n.state.statusData[n.state.data.code][e]):{};switch(t){case 0:a[e]=Object(i.a)(Object(i.a)({},a),{},{legacy:!1,active:!1,expended:!1,selections:[],option:-1});break;case 1:a[e]=Object(i.a)(Object(i.a)({},a),{},{legacy:!0,active:!0,expended:!1});break;case-1:a[e]=Object(i.a)(Object(i.a)({},a),{},{legacy:!0,active:!0,expended:!0});break;default:return void console.warn("WARNING: Invalid state ("+t+") for event "+e+" in "+n.state.data.code)}n.props.addToast("Updated "+e.toUpperCase(),{appearance:"info"}),n.updateEventHandler(a,!0)},n.updateWealthHandler=function(e,t){var a=Object(i.a)({},n.state.tempWealth);a[t]=e,n.state.tempAutoCalc&&n.state.data.record!==ht&&(a=Object(i.a)(Object(i.a)({},a),{},{ending:n.calcEndingWealth(a)})),n.setState({tempWealth:a})},n.condenseCoinage=function(e){var t=Ye(Ge(n.state.tempWealth[e]),!0);ge()(t,n.state.tempWealth[e])||0===Ge(t)&&0===Ge(n.state.tempWealth[e])?n.props.addToast("No change to coinage in "+e.toUpperCase(),{appearance:"info"}):(n.updateWealthHandler(t,e),n.props.addToast("Coinage condensed in "+e.toUpperCase(),{appearance:"success"}))},n.calcEndingWealth=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=Object(i.a)({},_e);e&&ke()(Ae,(function(t){var n=e.starting?e.starting[t]:0,r=e.spent?e.spent[t]:0,s=e.earned?e.earned[t]:0;n=n||0,r=r||0,s=s||0,a[t]=n-r+s}));var r={cp:10,sp:5,ep:2,gp:10};return ke()(Ae,(function(e,t){for(;a[e]<0&&t<4;){a[Ae[t+1]]--,a[e]+=r[e]}})),a.pp<0?(!t&&!n.state.negativeEndingGold&&n.props.addToast("Ending Gold results in negative value",{appearance:"error"}),n.setState({negativeEndingGold:!0}),Object(i.a)({},_e)):(n.state.negativeEndingGold&&(!t&&n.props.addToast("You are no longer in debt",{appearance:"success"}),n.setState({negativeEndingGold:!1})),a)},n.fauxdestoHyphenFix=function(e){return e.split("-").join("<span class='hyphen'>-</span>")},n.render_titleAndCode=function(e,t,a){var s,o=n.props.preview;switch(n.props.data.record){case pt:s=r.a.createElement(X.b,{className:"titleIcon leftIcon"});break;case ct:case dt:case ut:s=r.a.createElement(X.a,{className:"titleIcon leftIcon"});break;case mt:s=r.a.createElement(te.a,{className:"titleIcon leftIcon"});break;case ht:s=r.a.createElement(q.b,{className:"titleIcon leftIcon"});break;default:s=r.a.createElement(r.a.Fragment,null)}return r.a.createElement("div",{className:g()("titleWrapper",!o&&"sticky",n.state.isDeleting&&"deleting")},!o&&r.a.createElement(r.a.Fragment,null,r.a.createElement(H.a,{in:n.state.isEditing,mountOnEnter:!0,unmountOnExit:!0},r.a.createElement(ue,{left:!0,cancel:!0,onClick:n.setIsEditing.bind(Object(p.a)(n),!1,!1),active:!0,hide:!n.state.isEditing})),r.a.createElement(H.a,{in:!n.state.isCollapsed,mountOnEnter:!0,unmountOnExit:!0},r.a.createElement(ue,{save:!0,onClick:n.setIsEditing.bind(Object(p.a)(n),!n.state.isEditing,!0),active:n.state.isEditing}))),r.a.createElement("h1",{className:"title fauxdesto",onClick:n.toggleCollapsed.bind(Object(p.a)(n))},r.a.createElement("span",{className:"name"},!o&&s,r.a.createElement("div",{className:"titleText"},!a&&!!e&&r.a.createElement("span",{className:"code",dangerouslySetInnerHTML:{__html:n.fauxdestoHyphenFix(e)}}),r.a.createElement("span",{className:g()("fauxdesto title",[ct,dt,ut,pt].includes(n.state.data.record)&&"italic"),dangerouslySetInnerHTML:{__html:n.fauxdestoHyphenFix(t)}})),!o&&n.state.wasDm&&r.a.createElement(oe.a,{className:"titleIcon rightIcon"}))))},n.render_gameInfo=function(){var e=n.state.data.code,t=n.state.statusData[e]&&n.state.statusData[e].isForEpic?n.state.statusData[e].isForEpic:"epic"===n.state.data.record,a=n.state.statusData[e]?n.state.statusData[e].date:"",s=n.state.statusData[e]?n.state.statusData[e].event:"",o=n.state.statusData[e]?Object(i.a)({},n.state.statusData[e].dungeonMaster):{},l=n.props.preview?n.state.tempTier:n.state.tier,c="";return n.state.wasDm||("name"in o&&o.name.length>0?(c=o.name,"dci"in o&&o.dci.length>0&&(c=c+" ("+o.dci+")")):"dci"in o&&(c=o.dci)),r.a.createElement(R.a,null,r.a.createElement("ul",{className:"infoWrapper"},l>0&&r.a.createElement("li",{className:"tier"},r.a.createElement("h1",null,"Tier:"),r.a.createElement(Y.a,{placement:"top",overlay:r.a.createElement(ye.a,null,"Tier ",l)},r.a.createElement("p",null,l)),(t||n.props.preview&&n.state.data.record===ut)&&r.a.createElement(Y.a,{placement:"top",overlay:r.a.createElement(ye.a,null,"Epic")},r.a.createElement("p",{className:"fauxdesto"},"E"))),!!a&&""!==a&&r.a.createElement("li",{className:"date"},r.a.createElement("h1",null,"Date:"),r.a.createElement("p",null,a)),!!s&&""!==s&&r.a.createElement("li",{className:"event"},r.a.createElement("h1",null,"Event:"),r.a.createElement("p",null,s)),!n.props.preview&&(""!==c||n.state.wasDm)&&r.a.createElement("li",{className:"dm"},r.a.createElement("h1",null,"Dungeon Master:"),r.a.createElement("p",null,n.state.wasDm?r.a.createElement("span",null,r.a.createElement(oe.a,null)):c))))},n.render_advNotes=function(e){var t=Object(i.a)({},n.state.data.notes);return n.state.statusData[n.state.data.code]&&n.state.statusData[n.state.data.code].notes&&ke()(Object(i.a)({},n.state.statusData[n.state.data.code].notes),(function(e,a){t[a]=e})),0===Object.keys(t).length?r.a.createElement(r.a.Fragment,null):k()(t,(function(e){return""!==e.trim()}))?r.a.createElement(R.a,{className:"notesWrapper wrapper"},!e&&r.a.createElement("h1",{className:"sectionTitle"},n.state.data.record===pt?"Mission":"Adventure"," Notes"),r.a.createElement("div",{className:"box"},"game"in t&&r.a.createElement("p",{className:"gameNotes bookFont",dangerouslySetInnerHTML:{__html:t.game}}),"game"in t&&"player"in t&&t.player.length>0&&r.a.createElement("hr",null),"player"in t&&t.player.length>0&&r.a.createElement("p",{className:"playerNotes handwritten",dangerouslySetInnerHTML:{__html:t.player.replace(/\n\r?/g,"<br />")}}))):r.a.createElement(r.a.Fragment,null)},n.render_advancement=function(e){var t=n.props.preview,a=!(!n.state.statusData[n.state.data.code]||!n.state.statusData[n.state.data.code].advancement)&&n.state.statusData[n.state.data.code].advancement.active,s=!(!n.state.statusData[n.state.data.code]||!n.state.statusData[n.state.data.code].missionComplete)&&n.state.statusData[n.state.data.code].missionComplete.complete,o=n.state.statusData[n.state.data.code]&&n.state.statusData[n.state.data.code].salvageHours?n.state.statusData[n.state.data.code].salvageHours.hours:0,l=s?Te[n.state.tier-1]:Te[n.state.tier-1]/2,i=isNaN(l)&&isNaN(l)?0:o*l,c=!e||s;return r.a.createElement(R.a,{className:"advWrapper wrapper"},r.a.createElement("h1",{className:"sectionTitle"},"Advancement",e&&" & Salvage"),r.a.createElement("div",{className:"box"},r.a.createElement("span",{className:"salvageContent"},r.a.createElement("span",{className:"salvageAdv"},e&&r.a.createElement(rt,{label:"Successfully Completed Mission",type:"checkbox",isBold:!0,isSelected:s,isDisabled:t||n.state.isEditing,selectHandler:n.salvageHandler}),r.a.createElement(rt,{label:e?"Character&nbsp;Advancement (Level&nbsp;Up?)":n.state.data.advancement.label,type:"checkbox",isBold:!0,indent:e,isSelected:a&&c,isDisabled:t||n.state.isEditing||e&&!s,selectHandler:n.advancementHandler})),e&&r.a.createElement("div",{className:"salvageRow"},r.a.createElement(be.a,null,r.a.createElement(be.a.Prepend,null,r.a.createElement(be.a.Text,{className:g()("bookFont bold")},r.a.createElement(le.a,null),"\xa0Salvage Earned\xa0",r.a.createElement("span",{key:l,className:g()("animate__faster","animate__animated animate__heartBeat"),style:{animationDuration:n.state.loaded?".5s":"1ms"}},"(",l,"/hr)"))),r.a.createElement(be.a.Append,null,r.a.createElement(be.a.Text,{className:g()("bookFont bold")},""===i?0:i))),r.a.createElement(be.a,null,r.a.createElement(be.a.Prepend,null,r.a.createElement(be.a.Text,{className:"bookFont bold"},"Hours Played (to max)")),r.a.createElement(be.a.Append,null,r.a.createElement(F.a.Control,{className:"handwritten textBoxCenter",type:"number",pattern:"[0-9]*",min:"0",max:"24",placeholder:"0",value:o,onKeyDown:function(e){Ce.includes(e.key)&&e.preventDefault()},onChange:function(e){var t=Math.abs(parseInt(e.target.value));t<0||isNaN(t)||""===t?t="":t>24&&(t=24),e.target.value=t,n.updateEventHandler({salvageHours:{hours:t}},!0)}}))))),!e&&r.a.createElement("p",{className:"bookFont footnote",dangerouslySetInnerHTML:{__html:n.state.data.advancement.footnote}})))},n.render_rewards=function(){var e=n.props.preview;return r.a.createElement(R.a,{className:"rewardsWrapper wrapper"},r.a.createElement("h1",{className:"sectionTitle"},"Rewards"),r.a.createElement("div",{className:"box rewardsContent"},A()(n.state.data.rewards,(function(t,a){var s="rewardGroup"+a,o=-1,l=[];return void 0!==n.state.statusData[n.state.data.code]&&void 0!==n.state.statusData[n.state.data.code][s]&&(o=n.state.statusData[n.state.data.code][s].option,l=n.state.statusData[n.state.data.code][s].selections),r.a.createElement("div",{key:a,className:"rewardGroup"},r.a.createElement("h1",{className:"bookFont bold"},r.a.createElement("span",{className:g()("instructions")},t.instructions),"options"in t&&r.a.createElement("div",{className:"buttonArea"})),"options"in t&&r.a.createElement(ot,{options:t.options,canBlank:!0,isDisabled:e||n.state.isEditing,selection:o,title:s,optionHandler:n.optionRewardHandler}),"selections"in t&&r.a.createElement(r.a.Fragment,null,A()(t.selections,(function(t,a){return r.a.createElement(rt,{key:a,label:t,type:"checkbox",isDisabled:e||n.state.isEditing,isSelected:l.includes(a),title:s,arrKey:a,selectHandler:n.selectRewardHandler})}))))}))))},n.render_wealth=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=n.state.statusData&&n.state.statusData[n.state.data.code]?Object(i.a)({},n.state.statusData[n.state.data.code].wealth):null;return r.a.createElement(R.a,{className:"wealthWrapper wrapper"},!e&&r.a.createElement("h1",{className:"sectionTitle"},"Character Wealth"),r.a.createElement(R.a,{className:"wealthContent box"},r.a.createElement("div",{className:"header cell"},"Starting Gold"),r.a.createElement("div",{className:"amount cell"},r.a.createElement("span",{className:"val"},r.a.createElement(Se,{isEmpty:null===t,wealthObj:null===t?{}:t.starting}))),r.a.createElement("div",{className:"header cell"},"Gold Spent (",r.a.createElement("span",null,"-"),")"),r.a.createElement("div",{className:"amount cell"},r.a.createElement("span",{className:"val"},r.a.createElement(Se,{colorless:!0,isEmpty:null===t,wealthObj:null===t?{}:t.spent}))),r.a.createElement("div",{className:"header cell"},"Gold Earned (+)"),r.a.createElement("div",{className:"amount cell"},r.a.createElement("span",{className:"val"},r.a.createElement(Se,{colorless:!0,isEmpty:null===t,wealthObj:null===t?{}:t.earned}))),r.a.createElement("div",{className:"header cell bottom"},"Ending Gold"),r.a.createElement("div",{className:"amount cell bottom"},r.a.createElement("span",{className:"val"},r.a.createElement(Se,{isEmpty:null===t,wealthObj:null===t?{}:t.ending,error:n.state.negativeEndingGold})))))},n.render_legacy=function(){var e=n.props.preview,t=n.state.data.dungeonMaster&&n.state.data.dungeonMaster.isDm?"When you run an adventure, you earn the Adventure Record for that adventure, which you may apply to one of your Oracle of War characters. Apply the same rewards to the Adventure Record as your group earned, including legacy events. If a legacy event was awarded to a specific character, you may tick that event for your own character too.":"(A character that dies during an adventure should still receive any legacy events that they earned, based on the discretion of the DM.)";return r.a.createElement(R.a,{className:"legacyWrapper wrapper"},r.a.createElement("h1",{className:"sectionTitle"},"Legacy Events"),r.a.createElement(R.a,{className:"box"},r.a.createElement("div",{className:"legacyContent"},A()(n.state.data.legacy.events,(function(t,a){var s={};return void 0!==n.state.statusData[n.state.data.code]&&void 0!==n.state.statusData[n.state.data.code][t.title]&&(s=n.state.statusData[n.state.data.code][t.title]),r.a.createElement(it,{eventObj:t,key:a,disable:e||n.state.isEditing,status:s,updateHandler:n.updateEventHandler})}))),r.a.createElement("div",{className:"footnote bookFont",dangerouslySetInnerHTML:{__html:t}})))},n.render_logData=function(){return r.a.createElement("div",{className:"logDataWrapper"},n.render_gameInfo(),n.render_advNotes(!1),r.a.createElement("div",{className:"twoCol"},r.a.createElement("div",{className:"leftCol arCol"},n.render_advancement(!1),n.render_rewards(),n.render_wealth()),r.a.createElement("div",{className:"rightCol arCol"},n.render_legacy())))},n.render_editLogData=function(){return r.a.createElement("ul",{className:"editWrapper"},n.render_editOptionsRow(),r.a.createElement("hr",null),n.render_editPlayerNotes(),n.render_editDmGroup(),n.render_eventDateGroup(),r.a.createElement("hr",null),r.a.createElement("li",{className:"editRow eventsRow"},r.a.createElement(be.a,{className:"eventLabel"},r.a.createElement(be.a.Prepend,{className:"oswald"},r.a.createElement(be.a.Text,null,r.a.createElement("span",{className:"condense"},"Legacy\xa0"),"Events"))),r.a.createElement("div",{className:"flexRow"},A()(n.state.data.legacy.events,(function(e,t){var a="Unselected",s="light";return n.state.statusData[n.state.data.code]&&n.state.statusData[n.state.data.code][e.title]&&(n.state.statusData[n.state.data.code][e.title].active&&(a="Active",s="primary"),n.state.statusData[n.state.data.code][e.title].expended&&(a="Expended",s="secondary")),r.a.createElement(be.a,{key:t},r.a.createElement(be.a.Prepend,{className:"eventTitle"},r.a.createElement(be.a.Text,{className:"bookFont bold",dangerouslySetInnerHTML:{__html:e.title}})),r.a.createElement(Ee.a,{as:be.a.Append,alignRight:!0,variant:s,title:a,className:a},r.a.createElement(ve.a.Item,{eventKey:0,active:"Unselected"===a,onSelect:n.setEvent.bind(Object(p.a)(n),e.title,0)},"Unselected"),r.a.createElement(ve.a.Item,{eventKey:1,active:"Active"===a,onSelect:n.setEvent.bind(Object(p.a)(n),e.title,1)},"Active"),r.a.createElement(ve.a.Item,{eventKey:-1,active:"Expended"===a,onSelect:n.setEvent.bind(Object(p.a)(n),e.title,-1)},"Expended")))})))),r.a.createElement("hr",null),n.render_editWealthRow(),r.a.createElement("hr",null),n.render_editActionsRow())},n.render_editSalvageData=function(){return r.a.createElement("ul",{className:"editWrapper"},n.render_editOptionsRow(),r.a.createElement("hr",null),n.render_editCodeAndTitleGroup(),n.render_editPlayerNotes(),n.render_editDmGroup(),n.render_eventDateGroup(),r.a.createElement("hr",null),n.render_editWealthRow(),r.a.createElement("hr",null),n.render_editActionsRow())},n.render_editNotesData=function(){return r.a.createElement("ul",{className:"editWrapper notes"},n.state.data.record===mt&&r.a.createElement(r.a.Fragment,null,n.render_editOptionsRow(),r.a.createElement("hr",null)),n.render_editCodeAndTitleGroup(),n.render_editPlayerNotes(),r.a.createElement("hr",null),n.render_editWealthRow(n.state.data.record===ht),r.a.createElement("hr",null),n.render_editActionsRow(n.state.data.record===ht))},n.render_eventDateGroup=function(){return r.a.createElement("li",{className:"editRow flexRow"},r.a.createElement(be.a,null,r.a.createElement(be.a.Prepend,null,r.a.createElement(be.a.Text,{className:"oswald"},"Event")),r.a.createElement(F.a.Control,{className:"handwritten",value:n.state.tempEvent,onChange:function(e){n.setState({tempEvent:e.target.value})}})),r.a.createElement(be.a,null,r.a.createElement(be.a.Prepend,null,r.a.createElement(be.a.Text,{className:"oswald"},"Date")),r.a.createElement(F.a.Control,{className:"handwritten",type:"date",value:n.state.tempDate,ref:n.dateFieldRef,onChange:function(e){n.setState({tempDate:e.target.value});var t=e.target;setTimeout((function(){t.defaultValue=""}),100)}})))},n.render_editCodeAndTitleGroup=function(){return r.a.createElement("li",{className:"editRow flexRow"},r.a.createElement(be.a,null,r.a.createElement(be.a.Prepend,null,r.a.createElement(be.a.Text,{className:"oswald"},"Title")),r.a.createElement(F.a.Control,{className:"handwritten",placeholder:n.state.data.code,value:n.state.tempTitle,onChange:function(e){n.setState({tempTitle:e.target.value})}})),r.a.createElement(Y.a,{placement:"top",overlay:r.a.createElement(ye.a,null,"Unique Idenifier")},r.a.createElement(be.a,{className:"help"},r.a.createElement(be.a.Prepend,null,r.a.createElement(be.a.Text,{className:"oswald"},"Code")),r.a.createElement(F.a.Control,{className:"typewriter help",value:n.state.data.code,disabled:!0}))))},n.render_editDmGroup=function(){return r.a.createElement("li",{className:g()("editRow flexRow",n.state.tempIsDm&&"disable")},r.a.createElement(be.a,null,r.a.createElement(be.a.Prepend,null,r.a.createElement(be.a.Text,{className:"oswald"},"DM Name")),r.a.createElement(F.a.Control,{className:"handwritten",disabled:n.state.tempIsDm,value:n.state.tempIsDm?"You are the DM":n.state.tempDmName,onChange:function(e){n.setState({tempDmName:e.target.value})}})),r.a.createElement(be.a,null,r.a.createElement(be.a.Prepend,null,r.a.createElement(be.a.Text,{className:"oswald"},"DM DCI #")),r.a.createElement(F.a.Control,{className:"handwritten",disabled:n.state.tempIsDm,value:n.state.tempIsDm?"You are the DM":n.state.tempDmNumber,onChange:function(e){n.setState({tempDmNumber:e.target.value})}})))},n.render_editWealthRow=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=e?{firstStart:{}}:{"Starting ":{},"Spent (\u2013)":{},"Earned (+)":{},"Ending ":{}};return r.a.createElement("li",{className:"editRow wealthRow"},A()(t,(function(t,a){var s;switch(a){case"firstStart":s=r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"partCondense"},"Wealth"),r.a.createElement("span",{className:"_partCondense"},"$"));break;case"Starting ":s=r.a.createElement(r.a.Fragment,null,"S",r.a.createElement("span",{className:"partCondense"},"tarting"));break;case"Spent (\u2013)":s=r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"partCondense"},"Spent\xa0("),"-",r.a.createElement("span",{className:"partCondense"},")"));break;case"Earned (+)":s=r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"partCondense"},"Earned\xa0("),"+",r.a.createElement("span",{className:"partCondense"},")"));break;case"Ending ":s=r.a.createElement(r.a.Fragment,null,"E",r.a.createElement("span",{className:"partCondense"},"nding"));break;default:s=""}var o=a.toLowerCase().substr(0,a.indexOf(" ")),l=!e&&n.state.tempAutoCalc&&"ending"===o&&n.state.negativeEndingGold;return r.a.createElement(be.a,{key:a,className:g()("editRow flexRow",l&&"error")},r.a.createElement(be.a.Prepend,{className:"leftGroup"},r.a.createElement(be.a.Text,{className:"oswald"},s)),r.a.createElement("div",{className:"wealthEditArea"},r.a.createElement(et,{fullWealth:n.state.tempWealth,useEp:n.state.useEp,type:o,updateHandler:n.updateWealthHandler,disabled:!e&&n.state.tempAutoCalc&&"ending"===o,error:l,isStart:e})),r.a.createElement(be.a,{className:g()("calcButtonGroup rightGroup",!e&&n.state.tempAutoCalc&&"ending"===o&&"disabled"),onClick:n.condenseCoinage.bind(Object(p.a)(n),e?"ending":o)},r.a.createElement(Y.a,{placement:"top-end",overlay:r.a.createElement(ye.a,null,"Condense",e?" ":" "+o.charAt(0).toUpperCase()+o.slice(1)," Coinage")},r.a.createElement(be.a.Append,{className:"toBeButton"},r.a.createElement(be.a.Text,null,r.a.createElement("span",{className:"calcMoneyIcon"},r.a.createElement(Ne.a,null)))))))})))},n.render_editOptionsRow=function(){return r.a.createElement("li",{className:"editRow optionsRow"},r.a.createElement(be.a,{className:"optionsLabel"},r.a.createElement(be.a.Prepend,{className:"oswald"},r.a.createElement(be.a.Text,null,r.a.createElement("span",{className:"condense"},"Log\xa0"),"Options"))),r.a.createElement("div",{className:"flexRow"},[pt].includes(n.state.data.record)&&r.a.createElement(be.a,{className:"dropdownGroup"},r.a.createElement(Ee.a,{variant:"light",title:n.state.tempTier>0?"Tier "+n.state.tempTier:"No Tier Set",alignRight:!0},A()([1,2,3,4],(function(e){return r.a.createElement(ve.a.Item,{href:"#",key:e,eventKey:e,active:n.state.tempTier===e,onSelect:function(t){n.setState({tempTier:e})}},"Tier ",e)})))),[ct,dt,ut,pt].includes(n.state.data.record)&&r.a.createElement(be.a,{className:"dropdownGroup"},r.a.createElement(Ee.a,{variant:"light",title:n.state.tempIsEpic?r.a.createElement(r.a.Fragment,null,"Epic Event ",r.a.createElement("span",{className:"dotE fauxdesto"},"E")):"AL Game",alignRight:!0},r.a.createElement(ve.a.Item,{href:"#",eventKey:"game",active:!n.state.tempIsEpic,onSelect:function(e){n.setState({tempIsEpic:!1})}},"This was a normal AL game"),r.a.createElement(ve.a.Item,{href:"#",eventKey:"epic",active:n.state.tempIsEpic,onSelect:function(e){n.setState({tempIsEpic:!0})}},"This game was for an EPIC event"))),[ct,dt,ut,pt].includes(n.state.data.record)&&r.a.createElement(be.a,{className:"dropdownGroup"},r.a.createElement(Ee.a,{variant:"light",title:n.state.tempIsDm?r.a.createElement(r.a.Fragment,null,"Dungeon Master ",r.a.createElement(oe.a,null)):"Player",alignRight:!0},r.a.createElement(ve.a.Item,{href:"#",eventKey:"player",active:!n.state.tempIsDm,onSelect:function(e){n.setState({tempIsDm:!1})}},"I was a PLAYER for this game"),r.a.createElement(ve.a.Item,{href:"#",eventKey:"dm",active:n.state.tempIsDm,onSelect:function(e){n.setState({tempIsDm:!0})}},"I was the DM for this game"))),r.a.createElement(be.a,{className:"dropdownGroup"},r.a.createElement(Ee.a,{variant:"light",title:n.state.tempAutoCalc?"Auto Calculate Gold":"Manually Enter Gold",alignRight:!0},r.a.createElement(ve.a.Item,{href:"#",eventKey:"auto",active:n.state.tempAutoCalc,onSelect:function(e){n.setState({tempAutoCalc:!0})}},"Auto",r.a.createElement("span",{className:"condense"}," Calculate")," Ending Gold"),r.a.createElement(ve.a.Item,{href:"#",eventKey:"manu",active:!n.state.tempAutoCalc,onSelect:function(e){n.setState({tempAutoCalc:!1})}},"Manual",r.a.createElement("span",{className:"condense"},"ly Enter")," Ending Gold")))))},n.render_editPlayerNotes=function(){return r.a.createElement(be.a,{as:"li",className:"editRow"},r.a.createElement(be.a.Prepend,null,r.a.createElement(be.a.Text,{className:"oswald"},r.a.createElement("span",{className:"condense"},"Player\xa0"),"Notes")),r.a.createElement(F.a.Control,{as:"textarea",className:"handwritten",value:n.state.tempNotes,onChange:function(e){n.setState({tempNotes:e.target.value})}}))},n.render_editActionsRow=function(){return r.a.createElement("li",{className:"editRow actionsRow"},r.a.createElement(be.a,{className:"actionLabel"},r.a.createElement(be.a.Prepend,{className:"oswald"},r.a.createElement(be.a.Text,null,r.a.createElement("span",{className:"condense"},"Log\xa0"),"Actions"))),r.a.createElement("div",{className:"flexRow"},r.a.createElement(B.a,{href:"#",variant:"danger",ref:n.deleteButton,disabled:!n.state.isEditing,onClick:function(e){n.setState({showDeleteModal:!0})},onMouseEnter:function(e){n.deleteButton.current.focus()},onMouseUp:function(e){n.deleteButton.current.blur()}},"Delete",r.a.createElement("span",{className:"buttonIcon"},r.a.createElement(q.d,null))),r.a.createElement(B.a,{href:"#",variant:"secondary",ref:n.cancelButton,disabled:!n.state.isEditing,onClick:n.setIsEditing.bind(Object(p.a)(n),!1,!1),onMouseEnter:function(e){n.cancelButton.current.focus()},onMouseUp:function(e){n.cancelButton.current.blur()}},"Cancel",r.a.createElement("span",{className:"buttonIcon"},r.a.createElement(q.a,null))),r.a.createElement(B.a,{href:"#",variant:"primary",ref:n.saveButton,disabled:!n.state.isEditing,onClick:n.setIsEditing.bind(Object(p.a)(n),!1,!0),onMouseEnter:function(e){n.saveButton.current.focus()},onMouseUp:function(e){n.saveButton.current.blur()}},"Save",r.a.createElement("span",{className:"buttonIcon"},r.a.createElement(oe.b,null)))))},n.render_deleteModal=function(){return r.a.createElement(G.a,{className:"deleteModal",size:"md",centered:!0,show:n.state.showDeleteModal,onHide:function(e){n.setState({showDeleteModal:!1})}},r.a.createElement(G.a.Header,{closeButton:!0},r.a.createElement(G.a.Title,null,"Permanently delete?")),r.a.createElement(G.a.Body,null,r.a.createElement("div",{className:"modalBody"},[ct,dt,ut].includes(n.state.data.record)&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"fauxdesto nowrap",dangerouslySetInnerHTML:{__html:n.fauxdestoHyphenFix(n.state.data.code.toUpperCase())}})," "," "),r.a.createElement("div",{className:g()("fauxdesto",[ct,dt,ut,pt].includes(n.state.data.record)&&"italic"),style:{fontSize:"2.8rem",lineHeight:"1",marginTop:[ct,dt,ut].includes(n.state.data.record)?"-.5rem":"0"},dangerouslySetInnerHTML:{__html:n.fauxdestoHyphenFix([ct,dt,ut].includes(n.state.data.record)?n.state.data.title:n.state.tempTitle)}}))),r.a.createElement(G.a.Footer,{className:"flexBetwixt"},r.a.createElement(B.a,{variant:"secondary",onClick:function(e){n.setState({showDeleteModal:!1})}},"Cancel"),r.a.createElement(B.a,{variant:"danger",onClick:function(e){n.setState({showDeleteModal:!1,isDeleting:!0},n.props.deleteHandler(n.state.data.code))}},"Delete")))},n.deleteButton=r.a.createRef(),n.cancelButton=r.a.createRef(),n.saveButton=r.a.createRef(),n.dateFieldRef=r.a.createRef(),n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.dateFieldRef.current&&(this.dateFieldRef.current.defaultValue=""),this.props.preview||(this.setTempData(this.props.statuses[this.props.data.code]),this.saveTempData()),this.props.resetStartWithEditHandler()}},{key:"componentWillReceiveProps",value:function(e){var t=e.statuses[e.data.code];this.setState({data:e.data,statusData:e.statuses,wasDm:e.wasDm,wasEpic:e.wasEpic,autoCalc:""!==this.getPropOrEmpty(t,"autoCalc",null)?t.autoCalc:this.state.autoCalc,tier:this.getPropOrEmpty(t,"tier",null)?t.tier:this.state.data.tier,titleOverride:this.getPropOrEmpty(t,"titleOverride",null)?t.titleOverride:this.state.titleOverride})}},{key:"render",value:function(){var e=this,t=this.props,a=t.style,n=t.className,s=t.preview,o=this.state.data.code,l=this.state.titleOverride,c=this.state.statusData&&this.state.statusData[this.state.data.code]?Object(i.a)({},this.state.statusData[this.state.data.code].wealth):null;return[ct,dt,ut].includes(this.state.data.record)?r.a.createElement(R.a,{fluid:!0,className:g()(n,"gameBox",!this.state.isCollapsed&&"expanded",this.state.isEditing&&"editing",s&&"preview"),style:a},!this.props.preview&&r.a.createElement("div",{className:g()("stickyCover",this.state.isDeleting&&"deleting")}),this.render_titleAndCode(o,l,!1),r.a.createElement(M.a,{in:!this.state.isCollapsed,className:"editCollapse",unmountOnExit:!0,mountOnEnter:!0},r.a.createElement("div",{className:"content"},!s&&r.a.createElement(M.a,{in:this.state.isEditing,unmountOnExit:!0,mountOnEnter:!0},r.a.createElement("div",{className:"editContent"},this.render_editLogData())),this.render_logData())),this.render_deleteModal()):this.state.data.record===pt?r.a.createElement(R.a,{fluid:!0,className:g()(n,"gameBox","salvageBox",!this.state.isCollapsed&&"expanded",this.state.isEditing&&"editing",s&&"preview"),style:a},!this.props.preview&&r.a.createElement("div",{className:g()("stickyCover",this.state.isDeleting&&"deleting")}),this.render_titleAndCode(null,l),r.a.createElement(M.a,{in:!this.state.isCollapsed,className:"editCollapse",unmountOnExit:!0,mountOnEnter:!0,onEntered:function(){e.setState({loaded:!0})},onExit:function(){e.setState({loaded:!1})}},r.a.createElement("div",{className:"content"},r.a.createElement(M.a,{in:this.state.isEditing,unmountOnExit:!0,mountOnEnter:!0},r.a.createElement("div",{className:"editContent"},this.render_editSalvageData())),r.a.createElement("div",{className:"logDataWrapper salvageInfoWrapper"},this.render_gameInfo(),this.render_advNotes(!1),r.a.createElement("div",{className:"twoCol"},r.a.createElement("div",{className:"leftCol arCol"},this.render_advancement(!0)),r.a.createElement("div",{className:"rightCol arCol"},this.render_wealth()))))),this.render_deleteModal()):[mt,ht].includes(this.state.data.record)?r.a.createElement(R.a,{fluid:!0,className:g()(n,"gameBox","notesWealthBox",!this.state.isCollapsed&&"expanded",this.state.isEditing&&"editing",s&&"preview"),style:a},!this.props.preview&&r.a.createElement("div",{className:g()("stickyCover",this.state.isDeleting&&"deleting")}),this.render_titleAndCode(o,l,!0),r.a.createElement(M.a,{in:!this.state.isCollapsed,className:"editCollapse",unmountOnExit:!0,mountOnEnter:!0},r.a.createElement("div",{className:"content"},r.a.createElement(M.a,{in:this.state.isEditing,unmountOnExit:!0,mountOnEnter:!0},r.a.createElement("div",{className:"editContent"},this.render_editNotesData())),r.a.createElement("div",{className:"logDataWrapper"},r.a.createElement("div",{className:g()("twoCol notesLog",this.state.data.record===ht&&"startLog")},r.a.createElement("div",{className:"leftCol arCol"},this.state.data.record===mt?this.render_wealth(!0):r.a.createElement(R.a,{className:"wealthWrapper wrapper"},r.a.createElement(R.a,{className:"wealthContent startingOnly box"},r.a.createElement("div",{className:"header cell bottom"},"Starting Wealth"),r.a.createElement("div",{className:"amount cell bottom"},r.a.createElement("span",{className:"val"},r.a.createElement(Se,{isEmpty:null===c,wealthObj:null===c?{}:c.ending,error:this.state.negativeEndingGold})))))),""!==!!this.state.tempNotes&&r.a.createElement("div",{className:"rightCol arCol"},this.render_advNotes(!0)))))),this.render_deleteModal()):r.a.createElement(r.a.Fragment,null)}}]),a}(r.a.Component);ft.defaultProps={statuses:{},collapse:!1,className:"",style:{},preview:!1,startWithEdit:!1,wasDm:!1,wasEpic:!1,autoCalc:!0,deleteHandler:function(){},saveHandler:function(){},resetStartWithEditHandler:function(){}};var gt=function(e){return function(t){var a=Object(V.useToasts)();return r.a.createElement(e,Object.assign({},t,a))}}(ft),vt=(a(305),function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={showModal:!1,isDisabled:e.props.disabled,disabledText:e.props.disabledText},e.setShowModal=function(t){e.state.disabled||e.setState({showModal:t})},e.handleAddRecord=function(t){e.setShowModal(!1),e.props.handleAdd(e.props.gameData,t)},e}return Object(u.a)(a,[{key:"componentWillReceiveProps",value:function(e){this.setState({isDisabled:e.disabled})}},{key:"render",value:function(){var e=this.props.gameData;return r.a.createElement(L.a,{className:g()("cardWrapper",this.state.isDisabled?"disabled":"")},r.a.createElement(L.a.Body,{onClick:this.setShowModal.bind(this,!0)},r.a.createElement("div",{className:"infoDots"},r.a.createElement(Y.a,{placement:"bottom-end",overlay:r.a.createElement(ye.a,{className:"dotTooltip"},r.a.createElement("strong",null,"Tier ",e.tier))},r.a.createElement("div",{className:"dot fauxdesto"},e.tier)),"EPIC"===e.record.toUpperCase()&&r.a.createElement(Y.a,{placement:"bottom-end",overlay:r.a.createElement(ye.a,{className:"dotTooltip"},r.a.createElement("strong",null,"Epic"))},r.a.createElement("span",{className:"dot fauxdesto"},"E")),"EXTRA"===e.record.toUpperCase()&&r.a.createElement(Y.a,{placement:"bottom-end",overlay:r.a.createElement(ye.a,{className:"dotTooltip"},r.a.createElement("strong",null,"Supplement"))},r.a.createElement("span",{className:"dot fauxdesto"},"S"))),r.a.createElement(L.a.Title,{className:"title"},e.title),r.a.createElement(L.a.Subtitle,{className:"code"},e.code)),r.a.createElement(G.a,{dialogClassName:"previewModal",size:"xl",centered:!0,scrollable:!0,show:this.state.showModal,onHide:this.setShowModal.bind(this,!1)},r.a.createElement(G.a.Header,{closeButton:!0},r.a.createElement(G.a.Title,null,"Preview ",e.type)),r.a.createElement(G.a.Body,null,r.a.createElement(gt,{data:e,preview:!0})),r.a.createElement(G.a.Footer,null,r.a.createElement(B.a,{variant:"secondary",onClick:this.setShowModal.bind(this,!1)},"Cancel"),r.a.createElement(B.a,{variant:"outline-primary",onClick:this.handleAddRecord.bind(this,!1,e.type)},"Add Record"),r.a.createElement(B.a,{variant:"primary",onClick:this.handleAddRecord.bind(this,!0,e.type)},"Add and Edit"))))}}]),a}(n.Component));vt.defaultProps={disabled:!1};var Et=vt,bt=(a(306),a(307),a(127)),yt="game",wt="extra",Nt="epic",Ot="salvage",St="notes",Dt="start",kt={Player:1};var Ct=function(e){return function(t){var a=Object(V.useToasts)();return r.a.createElement(e,Object.assign({},t,a))}}(function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).state={charData:{},optionsData:{},gameData:[],statusData:[],gameDataReorder:[],statusDataReorder:[],showAddRecordArea:!1,loaded:!1,isSidebarOpen:!1,eventArr:[],deleteCode:"",openEditorCode:"",finishedMoving:!1,changingData:!1,hasStarted:!1,showReorderModal:!1,showOptionsModal:!1,confirmReset:!1,confirmImport:!1},n.savePlayerDataHandler=function(e,t){n.setState({charData:e,optionsData:t})},n.toggleAddRecordArea=function(){n.setState({showAddRecordArea:!n.state.showAddRecordArea})},n.addStartingWealthRecord=function(e){e.stopPropagation();var t=Object(c.a)(n.state.gameData);t.unshift(Object(i.a)({},We));var a=Object(c.a)(n.state.statusData);a.unshift(Object(i.a)({},Be)),n.setState({openEditorCode:Be.code,gameData:t,statusData:a}),n.toggleAddRecordArea()},n.addRecord=function(e,t,a){n.state.hasStarted||n.setState({hasStarted:!0});var r=Object(i.a)({},e),s=Object(l.a)({},e.code,{wealth:n.getPrevEndingWealth()}),o=t?e.code:-1,d=e.code;if([St,Ot].includes(a)){d=a+"_"+Math.random().toString(36).substr(2,9);var u=a===St?"Wealth and Notes":"Salvage Mission";r={record:a,type:u,title:u+" Log",code:d,tier:Pe(n.state.charData.totLevel)},s=Object(l.a)({},d,{notes:{player:a===St?"Wealth changes and notes for between sessions.":"Salvage mission notes."},tier:Pe(n.state.charData.totLevel),titleOverride:u+" Log",wealth:n.getPrevEndingWealth()}),o=d}var p=Object(c.a)(n.state.gameData);p.push(r);var m=Object(c.a)(n.state.statusData);m.push(s),n.setState({openEditorCode:o,gameData:p,statusData:m}),n.toggleAddRecordArea()},n.getPrevEndingWealth=function(){var e=Object(i.a)({},je);if(n.state.gameData.length>0){var t=Re(k()(n.state.statusData,(function(e,t){return He(e)===n.state.gameData[n.state.gameData.length-1].code})));t.wealth&&t.wealth.ending&&!!Object.keys(t.wealth.ending).length>0&&(e.starting=t.wealth.ending,e.ending=t.wealth.ending)}return e},n.toggleExpendedEvent=function(e,t){var a=Object(c.a)(n.state.statusData),r=_()(a,(function(t){return He(t)===e}));a[r][e][t].expended=!0!==a[r][e][t].expended,n.setState({statusData:a})},n.updateLogStatus=function(e){var t=Object(c.a)(n.state.statusData),a=_()(t,(function(t){return He(t)===He(e)}));-1===a?t.push(e):t[a]=e,n.setState({statusData:t})},n.getStatusInfo=function(e,t){var a=k()(n.state.statusData,(function(t){return He(t)===e}))[e][t],r=k()(bt.records,(function(t){return t.code===e})),s=k()(r.legacy.events,(function(e){return e.title===t})),o={};if(a.active&&a.legacy){var l=void 0!==a.expended&&a.expended;o={title:t,code:e,description:s.description,option:null,selections:[],expended:l},void 0!==a.option&&-1!==a.option&&(s.radios?o.option=s.radios[a.option]:s.table&&(o.option=s.table[a.option])),a.selections&&a.selections.length>0&&(o.selections=[],a.selections.forEach((function(e){o.selections.push(s.checkboxes[e])})),o.selections.sort())}return o},n.setSidebarInfo=function(e){var t=[];if(n.state.statusData.forEach((function(e){A()(Re(e),(function(a,n){a&&a.legacy&&t.push({title:n,code:He(e),event:a})}))})),e)return S()(t,(function(e){return!0!==e.event.expended})).length;t=I()(I()(t,(function(e){return e.title.toUpperCase()})),(function(e){return!0===e.event.expended})),n.setState({eventArr:t})},n.handleDelete=function(e){n.setState({deleteCode:e})},n.removeLog=function(e){var t=n.state.gameData.findIndex((function(t){return t.code===e}));if(n.state.hasStarted||n.setState({hasStarted:!0}),t<0)return console.error("WARNING: Code "+e+" not found in game list!");var a=Object(c.a)(n.state.gameData),r=Object(c.a)(n.state.statusData),s=Re(k()(r,(function(t){return He(t)===e}))),o=[yt,wt,Nt].includes(a[t].record)?e.toUpperCase()+" ":"";o+=![yt,wt,Nt].includes(a[t].record)&&s&&s.titleOverride?s.titleOverride:a[t].title,a.splice(t,1),r.splice(t,1),n.setState({deleteCode:"",gameData:a,statusData:r}),n.props.addToast("Deleted record "+o,{appearance:"error"})},n.resetStartWithEditHandler=function(){n.setState({openEditorCode:-1})},n.getTotalLoggedLevels=function(){var e=0;return A()(n.state.statusData,(function(t,a){Re(t).advancement&&Re(t).advancement.active&&e++})),e},n.getlatestWealth=function(){for(var e=Object(c.a)(n.state.statusData).reverse(),t=0;t<n.state.statusData.length;t++)if(Re(e[t]).wealth&&Re(e[t]).wealth.ending)return Object(i.a)(Object(i.a)({},_e),Re(e[t]).wealth.ending);return Object(i.a)({},_e)},n.moveModalSetup=function(e){n.setState({showReorderModal:!0,gameDataReorder:Object(c.a)(n.state.gameData).reverse(),statusDataReorder:Object(c.a)(n.state.statusData).reverse()})},n.onDragEnd=function(e){if(e.destination){var t=y()(Object(c.a)(n.state.gameDataReorder),e.source.index,e.destination.index),a=y()(Object(c.a)(n.state.statusDataReorder),e.source.index,e.destination.index);n.setState({gameDataReorder:t,statusDataReorder:a})}},n.exportData=function(){var e={player:Object(i.a)({},n.state.charData),options:Object(i.a)({},n.state.optionsData),games:Object(c.a)(n.state.gameData),statuses:Object(c.a)(n.state.statusData)},t=""!==e.player.character.trim()?e.player.character.trim().replace(" ","_")+"_oowar-log.json":"unnamed";N()(JSON.stringify(e).replace("\u2013"," - ").replace("\u2014","--"),t,"application/json"),n.props.addToast('File "'+t+'" exported, check your downloads folder',{appearance:"info"}),n.setState({showOptionsModal:!1})},n.importData=function(e){var t=e.target.files[0],a=new FileReader;a.readAsText(t),n.setState({showOptionsModal:!1}),a.onload=function(){var e=JSON.parse(a.result);n.props.addToast('Logs successfully loaded from "'+t.name+'"',{appearance:"warning"}),n.setData(e.player,e.options,e.games,e.statuses)},a.onerror=function(){n.setState({changingData:!1}),n.props.addToast("Failed to read file "+t.name,{appearance:"error"})}},n.resetData=function(e,t){n.setData({player:"",dci:"",character:"Sam Pel",classes:kt,tier:0,base:"",wealth:_e,totLevel:1},{autoLeveling:He(kt),tierSetting:0,autoWealth:!0},[Object(i.a)({},We)],[Be]),n.setState({showOptionsModal:!1}),t||n.props.addToast("Logs have been reset",{appearance:"warning"})},n.setData=function(e,t,a,r){n.setState({changingData:!0}),setTimeout((function(){n.setState({charData:e,optionsData:t,gameData:a,statusData:r,changingData:!1})}),200)},n.hideConfModal=function(e){n.setState(Object(l.a)({},e,!1))},n.handleTotalLevels=function(e){n.setState({charData:Object(i.a)(Object(i.a)({},n.state.charData),{},{totLevel:e})})},n.render_gameLogs=function(e){return r.a.createElement(R.a,{className:"gameList"},A()(e,(function(e,t){var a=n.state.statusData[t]&&n.state.statusData[t][e.code]&&n.state.statusData[t][e.code].isForEpic?!0===n.state.statusData[t][e.code].isForEpic:e.isForEpic,s=n.state.statusData[t]&&n.state.statusData[t][e.code]&&n.state.statusData[t][e.code].dungeonMaster?n.state.statusData[t][e.code].dungeonMaster.isDm:Object(i.a)({},e.dungeonMaster).isDm;return r.a.createElement(M.a,{key:e.code,in:e.code!==n.state.deleteCode,mountOnEnter:!0,unmountOnExit:!0,onExited:n.removeLog.bind(Object(p.a)(n),e.code)},r.a.createElement(gt,{className:n.state.finishedMoving?"":"animate__animated animate__fadeIn",style:{animationDelay:"0ms"},data:e,statuses:n.state.statusData[t],collapse:!n.state.loaded&&1!==Object.keys(n.state.gameData).length,logUpdateHandler:n.updateLogStatus,deleteHandler:n.handleDelete,wasDm:s,wasEpic:a,startWithEdit:n.state.openEditorCode===e.code,resetStartWithEditHandler:n.resetStartWithEditHandler}))})))},n.render_newRecordArea=function(){return r.a.createElement(R.a,{className:"newRecordWrapper"},r.a.createElement(ue,{move:!0,right:!0,className:"moveButton",onClick:n.moveModalSetup.bind(Object(p.a)(n))}),r.a.createElement(B.a,{className:g()("newButton","oswald",n.state.showAddRecordArea?"isOpen":""),variant:"light",size:"lg",block:!0,onClick:n.toggleAddRecordArea.bind(Object(p.a)(n))},n.state.showAddRecordArea?"Cancel":"Add Record"),r.a.createElement(M.a,{in:n.state.showAddRecordArea,mountOnEnter:!0,unmountOnExit:!0},r.a.createElement("div",null,r.a.createElement("ul",{className:"addLogWrapper"},r.a.createElement("li",{className:"addItem",id:"newNotes"},r.a.createElement(L.a,{className:"customItem",onClick:n.addRecord.bind(Object(p.a)(n),{},!0,St)},r.a.createElement(L.a.Body,null,r.a.createElement(te.a,{className:"cardIcon"}),r.a.createElement(L.a.Title,null,"Notes / Wealth"),r.a.createElement(L.a.Subtitle,null,"Notes and wealth changes"),r.a.createElement(M.a,{in:-1===_()(n.state.gameData,(function(e){return e.record===Dt})),className:"addAsStartLink"},r.a.createElement(L.a.Link,null,r.a.createElement(W.a,{pill:!0,onClick:n.addStartingWealthRecord.bind(Object(p.a)(n))},"Add as starting wealth")))))),r.a.createElement("li",{className:"addItem",id:"newSalvage"},r.a.createElement(L.a,{className:"customItem",onClick:n.addRecord.bind(Object(p.a)(n),{},!0,Ot)},r.a.createElement(L.a.Body,null,r.a.createElement(X.b,{className:"cardIcon"}),r.a.createElement(L.a.Title,null,"Salvage Mission"),r.a.createElement(L.a.Subtitle,null,"Salvage mission log")))),A()(bt.records,(function(e,t){return r.a.createElement("li",{key:t,className:"addItem",id:e.code},r.a.createElement(Et,{gameData:e,handleAdd:n.addRecord,disabled:_()(n.state.gameData,(function(t){return t.code===e.code}))>-1||"TBR"===e.type.toUpperCase()}))}))))))},n.render_activeEventSideBar=function(){var e=n.setSidebarInfo(!0),t=0===e?"No active legacy events":e+" active legacy "+(1===e?"event":"events");return r.a.createElement(z.a,{onClickOutside:function(){n.setState({isSidebarOpen:!1})}},r.a.createElement(E.a,{expanded:n.state.isSidebarOpen,onToggle:function(e){n.setSidebarInfo(!1),n.setState({isSidebarOpen:e})},className:g()("activeBarWrapper",n.state.isSidebarOpen&&"openBar")},r.a.createElement(E.a.Toggle,{className:"toggle"},!n.state.isSidebarOpen&&e>0&&r.a.createElement(W.a,{pill:!0,variant:"light",className:"number"},e),n.state.isSidebarOpen&&r.a.createElement("div",{className:"message text oswald"},t)),n.state.isSidebarOpen&&A()(n.state.eventArr,(function(e,t){var a=n.getStatusInfo(e.code,e.title),s=e.code+" "+e.title;return r.a.createElement(E.a.Nav,{key:s},r.a.createElement(v.NavItem,{eventKey:s,navitemClassName:g()("eventItem",a.expended&&"expended")},r.a.createElement(v.NavIcon,null,r.a.createElement(W.a,{pill:!0,variant:a.expended?"secondary":"light"},"\xa0")),r.a.createElement(v.NavText,null,r.a.createElement("span",{className:"title text bookFont bold",dangerouslySetInnerHTML:{__html:a.title}})),r.a.createElement(v.NavItem,{navitemClassName:g()("eventInfo",a.expended&&"expended")},r.a.createElement(v.NavText,null,r.a.createElement("div",{className:"code text"},r.a.createElement("span",null,a.code.toUpperCase()),r.a.createElement(F.a,null,r.a.createElement(F.a.Check,{type:"switch",id:s+" isExpended",label:"",onClick:n.toggleExpendedEvent.bind(Object(p.a)(n),e.code,e.title),checked:a.expended,onChange:function(e){}}))),r.a.createElement("p",{className:"description text bookFont",dangerouslySetInnerHTML:{__html:a.description}}),null!==a.option&&r.a.createElement("div",{className:"list text bookFont",dangerouslySetInnerHTML:{__html:a.option}}),a.selections.length>0&&A()(a.selections,(function(e,t){return r.a.createElement("div",{key:t,className:"list text bookFont",dangerouslySetInnerHTML:{__html:e}})}))))))}))))},n.render_optionsModal=function(){return r.a.createElement(G.a,{className:g()("optionsModal",(n.state.confirmReset||n.state.confirmImport)&&"darken"),size:"lg",centered:!0,show:n.state.showOptionsModal,onHide:function(){n.setState({showOptionsModal:!1})}},r.a.createElement(G.a.Header,{closeButton:!0},r.a.createElement(G.a.Title,null,"Options")),r.a.createElement(G.a.Body,{className:"dataOptions"},r.a.createElement("input",{type:"file",accept:".json",ref:n.inputRef,style:{display:"none"},onChange:n.importData.bind(Object(p.a)(n))}),r.a.createElement(B.a,{className:"oswald",size:"lg",variant:"info",onClick:n.exportData.bind(Object(p.a)(n))},"Export\xa0",r.a.createElement(Z.a,null)),r.a.createElement(B.a,{className:"oswald",size:"lg",variant:"outline-info",onClick:function(){n.setState({confirmImport:!0})}},"Import\xa0",r.a.createElement(Z.b,null)),r.a.createElement(B.a,{className:"oswald",size:"lg",variant:"outline-danger",onClick:function(){n.setState({confirmReset:!0})}},"Reset\xa0",r.a.createElement(Z.c,null))),r.a.createElement(se,{show:n.state.confirmReset,onConfirm:function(){n.hideConfModal("confirmReset"),n.resetData(!1,!1)},onCancel:n.hideConfModal.bind(Object(p.a)(n),"confirmReset"),title:"Confirm reset?"}),r.a.createElement(se,{show:n.state.confirmImport,onConfirm:function(){n.hideConfModal("confirmImport"),n.inputRef.current.click()},onCancel:n.hideConfModal.bind(Object(p.a)(n),"confirmImport"),title:"Confirm import?",body:r.a.createElement("p",{style:{fontWeight:"bold"}},"This will delete all current logs. Contine importing?"),confirmButton:"Continue",confirmButtonVariant:"outline-info"}))},n.render_reorderModal=function(){var e=k()(n.state.gameDataReorder,(function(e){return e.record===Dt})),t="";return e&&(t=n.state.statusData[0]&&n.state.statusData[0][e.code]&&n.state.statusData[0][e.code].titleOverride?n.state.statusData[0][e.code].titleOverride:e.title),r.a.createElement(G.a,{className:"reorderModal",size:"lg",centered:!0,show:n.state.showReorderModal,onHide:function(){n.setState({showReorderModal:!1})},backdrop:"static"},r.a.createElement(G.a.Header,{closeButton:!0},r.a.createElement(G.a.Title,null,"Reorder Logs")),r.a.createElement(G.a.Body,null,r.a.createElement(x.c,{droppableId:"reorderList",type:"LOG"},(function(e,t){return r.a.createElement("ul",Object.assign({className:"draggableList",ref:e.innerRef},e.droppableProps),A()(n.state.gameDataReorder,(function(e,t){var a=Re(k()(n.state.statusData,(function(t){return He(t)===e.code})));if(e.record!==Dt){var s=![yt,wt,Nt].includes(e.record)&&a&&a.titleOverride?a.titleOverride:e.title;return r.a.createElement(x.b,{key:e.code,draggableId:e.code,index:t},(function(t,a){return r.a.createElement("li",Object.assign({className:g()("dItem",a.isDragging&&"dragging"),ref:t.innerRef},t.draggableProps,t.dragHandleProps),e.record===Ot&&r.a.createElement(X.b,{className:"dTypeIcon"}),e.record===St&&r.a.createElement(te.a,{className:"dTypeIcon"}),[yt,wt,Nt].includes(e.record)&&r.a.createElement(X.a,{className:"dTypeIcon"}),r.a.createElement("span",{style:{textAlign:"center"}},[yt,wt,Nt].includes(e.record)&&r.a.createElement("span",{className:"dCode"},e.code.toUpperCase()),r.a.createElement("span",{className:g()("dTitle",![St,Dt].includes(e.record)&&"dItalic")},s)),e.code!==We.code&&r.a.createElement($.a,{className:"dIcon"}))}))}})),e.placeholder)})),!!e&&r.a.createElement("ul",{className:"draggableList dStatic"},r.a.createElement("li",{className:"dItem dUndraggable dFirst"},r.a.createElement(q.b,{className:"dTypeIcon"}),r.a.createElement("span",{className:"dTitle"},t)))),r.a.createElement(G.a.Footer,{className:"flexBetwixt evenButtons"},r.a.createElement(B.a,{variant:"secondary",onClick:function(){n.setState({finishedMoving:!0,showReorderModal:!1},n.setState({finishedMoving:!1}))}},"Cancel"),r.a.createElement(B.a,{variant:"info",onClick:function(){n.setState({showReorderModal:!1}),JSON.stringify(Object(c.a)(n.state.gameDataReorder).reverse())===JSON.stringify(n.state.gameData)?n.props.addToast("No changes to log order",{appearance:"info"}):(n.setState({changingData:!0}),n.props.addToast("Logs successfully rearranged",{appearance:"success"})),setTimeout((function(){n.setState({finishedMoving:!0,gameData:Object(c.a)(n.state.gameDataReorder).reverse(),statusData:Object(c.a)(n.state.statusDataReorder).reverse(),changingData:!1})}),200)}},"Save")))},n.render_footer=function(){return r.a.createElement(P.a,{className:"footer"},r.a.createElement("ul",{className:"bottomInfo"},r.a.createElement("li",null,r.a.createElement("span",null,"Created\xa0by\xa0",r.a.createElement(q.c,null),"\xa0"),r.a.createElement("a",{href:"https://github.com/FedoraMark"},r.a.createElement("span",{className:"fedoram"},"Fedora"),r.a.createElement("span",{className:"fmark"},"Mark")),r.a.createElement("span",{className:"bullet"},"\u2022"),r.a.createElement("span",{className:"githubButton"},r.a.createElement(J.a,{href:"https://github.com/fedoramark/dndal-oow-ar-log/issues","data-icon":"octicon-issue-opened","aria-label":"Issue fedoramark/dndal-oow-ar-log on GitHub"},"Issue"))),r.a.createElement("li",{className:"bullet"},"\u2022"),r.a.createElement("li",{className:"kofi"},r.a.createElement("a",{href:"https://ko-fi.com/J3J224IVG",target:"_blank",rel:"noopener noreferrer"},"Spare some coin? ",r.a.createElement(ee.a,null))),r.a.createElement("li",{className:"bullet"},"\u2022"),r.a.createElement(Y.a,{trigger:["hover","focus"],placement:"top",overlay:r.a.createElement(K.a,{id:"attrPop"},r.a.createElement(K.a.Title,{as:"h3"},"Attributions"),r.a.createElement(K.a.Content,null,r.a.createElement("ul",{className:"attrList"},r.a.createElement("li",null,"Not Affiliated with D&D Adventurers League or Wizards of the Coast"),r.a.createElement("li",null,"Font clones by u/Solbera"),r.a.createElement("li",null,"Some icons by: BoxIcons, Font Awesome, Game Icons, IcoMoon"))))},r.a.createElement("li",{className:"attrLink"},"Attributions"))))},n.inputRef=r.a.createRef(),n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.resetData(!0,!0),this.setState({loaded:!0})}},{key:"render",value:function(){var e=this,t=this.state.confirmReset||this.state.confirmImport?"blur__5px":"";return r.a.createElement(x.a,{onDragEnd:this.onDragEnd},r.a.createElement("div",{className:g()("log",t)},this.render_activeEventSideBar(),r.a.createElement("div",{className:"topNav"},!this.state.hasStarted&&r.a.createElement("div",null,"Import/Export options"),r.a.createElement(B.a,{variant:"link",className:this.state.showOptionsModal?"spin":"",onClick:function(){e.setState({showOptionsModal:!0,hasStarted:!0})}},r.a.createElement(Q.a,null))),r.a.createElement(P.a,null,r.a.createElement(R.a,null,r.a.createElement("div",{className:"titleBox"},r.a.createElement("h1",null,"Eberron: Oracle of War"),r.a.createElement("h2",null,"Adventure Records Log")))),r.a.createElement(H.a,{in:!this.state.changingData&&this.state.loaded,unmountOnExit:!0,mountOnEnter:!0},r.a.createElement("span",{className:"contentWrapper"},r.a.createElement(R.a,null,r.a.createElement(ze,{playerObj:this.state.charData,optionsObj:this.state.optionsData,saveHandler:this.savePlayerDataHandler,totalLevels:this.getTotalLoggedLevels(),latestWealth:this.getlatestWealth(),totalLevelHandler:this.handleTotalLevels,currentTotalLevels:this.state.charData.totLevel})),this.render_newRecordArea(),this.render_gameLogs(this.state.gameData))),!(!this.state.changingData&&this.state.loaded)&&r.a.createElement("div",{style:{flexGrow:1}}),this.render_footer()),this.render_reorderModal(),this.render_optionsModal())}}]),a}(r.a.Component));a(310),a(311);o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(V.ToastProvider,{autoDismiss:!0,autoDismissTimeout:"3000"},r.a.createElement(Ct,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},32:function(e,t,a){e.exports={block:"EditButton_block__DlmgS",bold:"EditButton_bold__3YqEa",condense:"EditButton_condense__1cMEo",blur__5px:"EditButton_blur__5px__3tx0_",help:"EditButton_help__34SUE",flexSpace:"EditButton_flexSpace__290bG",noWrap:"EditButton_noWrap__-WW5r",textBoxCenter:"EditButton_textBoxCenter__1ZQsC",flexBetwixt:"EditButton_flexBetwixt__1vLn4",evenButtons:"EditButton_evenButtons__tfCMh",bookFont:"EditButton_bookFont__1tvcx",italic:"EditButton_italic__2W5E6",fauxdesto:"EditButton_fauxdesto__1MGWH",handwritten:"EditButton_handwritten__27ikB",oswald:"EditButton_oswald__2cyw9",typewriter:"EditButton_typewriter__2PJwa",modalDiceIcon:"EditButton_modalDiceIcon__2pHF7",modalTitle:"EditButton_modalTitle__2MFNw","modal-footer":"EditButton_modal-footer__iaG37",dotTooltip:"EditButton_dotTooltip__Tr6et",arrow:"EditButton_arrow__2YP9X","tooltip-inner":"EditButton_tooltip-inner__qrc_8",_partCondense:"EditButton__partCondense__1K2T4",partCondense:"EditButton_partCondense__2asT5",editButtonWrapper:"EditButton_editButtonWrapper__3e6RN",icon:"EditButton_icon__13pMt",active:"EditButton_active__1fLDI",save:"EditButton_save__2Mpn1",cancel:"EditButton_cancel__1W3Nm",left:"EditButton_left__21gW9",right:"EditButton_right__l-hdr",move:"EditButton_move__2ezUS",hide:"EditButton_hide__1QgS3"}},77:function(e,t,a){e.exports={block:"WealthEdit_block__15u77",bold:"WealthEdit_bold__2l_Vz",condense:"WealthEdit_condense__zOb97",blur__5px:"WealthEdit_blur__5px__2i5Bf",help:"WealthEdit_help__1O4-L",flexSpace:"WealthEdit_flexSpace__2yVeH",noWrap:"WealthEdit_noWrap__1KEy6",textBoxCenter:"WealthEdit_textBoxCenter__1PcWI",flexBetwixt:"WealthEdit_flexBetwixt__33mMq",evenButtons:"WealthEdit_evenButtons__4d4ep",bookFont:"WealthEdit_bookFont__x65TV",italic:"WealthEdit_italic__j0Szw",fauxdesto:"WealthEdit_fauxdesto__1moPM",handwritten:"WealthEdit_handwritten__3m11-",oswald:"WealthEdit_oswald__2rHLN",typewriter:"WealthEdit_typewriter__LE6P8",modalDiceIcon:"WealthEdit_modalDiceIcon__3dDLD",modalTitle:"WealthEdit_modalTitle__16VAF","modal-footer":"WealthEdit_modal-footer__1gFWz",dotTooltip:"WealthEdit_dotTooltip__3Bz4A",arrow:"WealthEdit_arrow___ul4K","tooltip-inner":"WealthEdit_tooltip-inner__3RqjK",_partCondense:"WealthEdit__partCondense__rZMEB",partCondense:"WealthEdit_partCondense__3Pdt-",coinInputsWrapper:"WealthEdit_coinInputsWrapper__GGxUp",money:"WealthEdit_money__1Ebuv",denomBox:"WealthEdit_denomBox__31ffg"}}},[[168,1,2]]]);
//# sourceMappingURL=main.0f2ce05c.chunk.js.map